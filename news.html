<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NewsVerify Pro - Enterprise News Verification Platform</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            background: linear-gradient(45deg, #fff, #e0e7ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .enterprise-badge {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 8px 20px;
            border-radius: 25px;
            display: inline-block;
            font-weight: 600;
            font-size: 0.9rem;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .nav-bar {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 40px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .nav-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            padding: 12px 24px;
            border-radius: 15px;
            transition: all 0.3s ease;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .nav-links a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .nav-links a:hover::before {
            left: 100%;
        }

        .nav-links a:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .nav-links a.active {
            background: rgba(255, 255, 255, 0.3);
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .tool-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 50px;
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.1),
                0 0 0 1px rgba(255, 255, 255, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .tool-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2, #667eea);
            background-size: 200% 100%;
            animation: gradient-flow 3s ease-in-out infinite;
        }

        @keyframes gradient-flow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .tool-header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        .tool-header h2 {
            font-size: 2.8rem;
            color: #4a5568;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .tool-header p {
            font-size: 1.2rem;
            color: #718096;
            margin-bottom: 20px;
        }

        .feature-highlights {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .feature-highlight {
            background: rgba(102, 126, 234, 0.1);
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .feature-highlight::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(102, 126, 234, 0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }

        .feature-highlight:hover::before {
            transform: translateX(100%);
        }

        .feature-highlight:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.2);
        }

        .feature-highlight i {
            font-size: 1.5rem;
            color: #667eea;
            margin-bottom: 8px;
        }

        .feature-highlight strong {
            display: block;
            color: #4a5568;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .feature-highlight span {
            color: #718096;
            font-size: 0.8rem;
        }

        /* Enhanced Tier Selector */
        .tier-selector {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .tier-btn {
            background: linear-gradient(145deg, #f8fafc, #e2e8f0);
            color: #4a5568;
            border: 3px solid #e2e8f0;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s ease;
            border-radius: 20px;
            padding: 20px 25px;
            font-size: 1rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            min-height: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .tier-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s;
        }

        .tier-btn:hover::before {
            left: 100%;
        }

        .tier-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .tier-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: #667eea;
            color: white;
            box-shadow: 
                0 8px 25px rgba(102, 126, 234, 0.3),
                0 0 0 3px rgba(102, 126, 234, 0.1);
            transform: translateY(-3px);
        }

        .tier-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none;
        }

        .tier-badge {
            position: static;
            background: linear-gradient(45deg, #ff4444, #ff6b6b);
            color: white;
            font-size: 0.7rem;
            padding: 4px 8px;
            border-radius: 12px;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(255, 68, 68, 0.3);
            margin-top: 8px;
        }

        .premium-features {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            border: 2px solid rgba(102, 126, 234, 0.2);
            border-radius: 20px;
            padding: 25px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }

        .premium-features::before {
            content: '✨';
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            animation: sparkle 2s ease-in-out infinite;
        }

        @keyframes sparkle {
            0%, 100% { transform: scale(1) rotate(0deg); opacity: 0.7; }
            50% { transform: scale(1.2) rotate(180deg); opacity: 1; }
        }

        .premium-features h4 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .premium-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-bottom: 15px;
        }

        .premium-list li {
            list-style: none;
            padding: 8px 0;
            color: #4a5568;
            font-weight: 500;
            position: relative;
        }

        .premium-list li::before {
            content: '🔥';
            margin-right: 8px;
        }

        /* COMPACT FLOATING PROGRESS BAR - ALWAYS VISIBLE */
        .progress-container {
            display: none;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px 25px;
            border-radius: 15px;
            margin: 0;
            box-shadow: 
                0 15px 40px rgba(102, 126, 234, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2),
                0 0 0 2px rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.1);
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 600px;
            z-index: 999999 !important;
            color: white;
            overflow: hidden;
        }

        .progress-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent);
            animation: progress-shimmer 2.5s infinite;
        }

        @keyframes progress-shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .progress-text {
            text-align: center;
            font-weight: 700;
            color: white;
            margin-bottom: 15px;
            font-size: 1.1rem;
            text-shadow: 
                0 2px 4px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(255, 255, 255, 0.3);
            position: relative;
            z-index: 2;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: rgba(0, 0, 0, 0.25);
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 15px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            position: relative;
            box-shadow: 
                inset 0 2px 4px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(255, 255, 255, 0.1);
            z-index: 2;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, 
                #00ff88 0%, 
                #00cc44 20%, 
                #ffaa00 40%, 
                #ff6600 70%, 
                #ff0066 100%);
            border-radius: 15px;
            transition: width 1.5s cubic-bezier(0.4, 0, 0.2, 1);
            width: 0%;
            position: relative;
            box-shadow: 
                0 0 25px rgba(0, 255, 136, 0.6),
                inset 0 2px 0 rgba(255, 255, 255, 0.3);
            overflow: hidden;
        }

        .progress-fill::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255,255,255,0.6), 
                transparent);
            animation: progress-wave 1.5s infinite;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            right: 2px;
            height: 6px;
            background: linear-gradient(90deg, 
                rgba(255,255,255,0.9), 
                rgba(255,255,255,0.3));
            border-radius: 10px;
        }

        @keyframes progress-wave {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .progress-details {
            text-align: center;
            font-size: 0.95rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 0;
            font-weight: 500;
            position: relative;
            z-index: 2;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }

        .loading-spinner {
            display: none;
        }

        @keyframes enhanced-spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Enhanced Input Section */
        .input-section {
            margin-bottom: 40px;
        }

        .input-tabs {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            border-bottom: 3px solid #e2e8f0;
            position: relative;
        }

        .input-tabs::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            height: 3px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 2px;
            transition: all 0.3s ease;
            width: 120px;
        }

        .input-tab {
            padding: 15px 30px;
            border: none;
            background: #f8fafc;
            color: #6b7280;
            font-weight: 600;
            cursor: pointer;
            border-radius: 15px 15px 0 0;
            transition: all 0.3s ease;
            font-size: 1rem;
            border-bottom: 3px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .input-tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.1), transparent);
            transition: left 0.5s;
        }

        .input-tab:hover::before {
            left: 100%;
        }

        .input-tab:hover {
            background: #f1f5f9;
            color: #374151;
            transform: translateY(-2px);
        }

        .input-tab.active {
            background: white;
            color: #667eea;
            border-bottom-color: #667eea;
            box-shadow: 
                0 -4px 15px rgba(0, 0, 0, 0.1),
                0 0 0 2px rgba(102, 126, 234, 0.1);
            transform: translateY(-2px);
        }

        .input-content {
            display: none;
        }

        .input-content.active {
            display: block;
            animation: fadeInUp 0.4s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .input-group {
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 700;
            color: #4a5568;
            font-size: 1.1rem;
        }

        .input-group input, .input-group textarea {
            width: 100%;
            padding: 18px;
            border: 3px solid #e2e8f0;
            border-radius: 15px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: white;
            font-family: inherit;
        }

        .input-group input:focus, .input-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 
                0 0 0 4px rgba(102, 126, 234, 0.1),
                0 5px 15px rgba(102, 126, 234, 0.2);
            transform: translateY(-2px);
        }

        .input-group textarea {
            min-height: 140px;
            resize: vertical;
            line-height: 1.6;
        }

        /* Enhanced Sample Articles */
        .sample-articles {
            margin-bottom: 25px;
            background: rgba(102, 126, 234, 0.05);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid rgba(102, 126, 234, 0.1);
        }

        .sample-articles label {
            font-size: 1.1rem;
            margin-bottom: 15px;
            font-weight: 700;
            color: #4a5568;
            display: block;
        }

        .sample-btn {
            background: linear-gradient(145deg, rgba(102, 126, 234, 0.1), rgba(102, 126, 234, 0.2));
            border: 2px solid #667eea;
            color: #667eea;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 0.95rem;
            font-weight: 700;
            cursor: pointer;
            margin: 8px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .sample-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .sample-btn:hover::before {
            left: 100%;
        }

        .sample-btn:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .char-counter {
            text-align: right;
            font-size: 0.95rem;
            color: #6b7280;
            margin-top: 8px;
            font-weight: 500;
        }

        .char-counter.warning {
            color: #f59e0b;
            font-weight: 600;
        }

        .char-counter.error {
            color: #ef4444;
            font-weight: 700;
        }

        .analyze-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 20px 50px;
            border-radius: 20px;
            font-size: 1.3rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s ease;
            width: 100%;
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .analyze-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.6s;
        }

        .analyze-btn:hover::before {
            left: 100%;
        }

        .analyze-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
        }

        .analyze-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        /* Enhanced Results Section */
        .results {
            display: none;
            margin-top: 40px;
            animation: fadeInUp 0.6s ease;
        }

        .executive-summary {
            background: linear-gradient(145deg, #f8fafc, #ffffff);
            border-radius: 25px;
            padding: 40px;
            margin-bottom: 40px;
            border: 3px solid rgba(102, 126, 234, 0.1);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        .executive-summary::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #667eea, #764ba2, #667eea);
            background-size: 200% 100%;
            animation: gradient-flow 3s ease-in-out infinite;
        }

        .credibility-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .credibility-score {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .score-circle {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: 900;
            color: white;
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.2),
                inset 0 2px 0 rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .score-circle::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: score-shine 3s ease-in-out infinite;
        }

        @keyframes score-shine {
            0%, 100% { left: -100%; }
            50% { left: 100%; }
        }

        .assessment-text {
            font-size: 1.5rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }

        .grade-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 24px;
            border-radius: 30px;
            font-weight: 800;
            font-size: 1.2rem;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
        }

        .grade-badge::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: badge-shine 2s ease-in-out infinite;
        }

        @keyframes badge-shine {
            0%, 100% { left: -100%; }
            50% { left: 100%; }
        }

        /* Enhanced Analysis Grid */
        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .analysis-card {
            background: linear-gradient(145deg, #ffffff, #f8fafc);
            border-radius: 25px;
            padding: 30px;
            border: 2px solid #e2e8f0;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .analysis-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.05), transparent);
            transition: left 0.6s;
        }

        .analysis-card:hover::before {
            left: 100%;
        }

        .analysis-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
            border-color: #667eea;
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e2e8f0;
        }

        .card-title {
            font-size: 1.4rem;
            font-weight: 800;
            display: flex;
            align-items: center;
            gap: 12px;
            color: #4a5568;
        }

        .card-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: white;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        /* Enhanced Expandable Sections */
        .expandable-sections {
            margin-top: 40px;
        }

        .expandable-section {
            background: linear-gradient(145deg, #ffffff, #f8fafc);
            border-radius: 20px;
            margin: 25px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 2px solid #e2e8f0;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .expandable-section:hover {
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
            transform: translateY(-2px);
        }

        .section-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px 30px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 800;
            font-size: 1.3rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .section-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.6s;
        }

        .section-header:hover::before {
            left: 100%;
        }

        .section-header:hover {
            background: linear-gradient(135deg, #5a6fd8 0%, #6b4190 100%);
        }

        .section-header .toggle-icon {
            font-size: 1.8rem;
            transition: transform 0.4s ease;
        }

        .section-header.expanded .toggle-icon {
            transform: rotate(180deg);
        }

        .section-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: all 0.5s ease;
        }

        .section-content.expanded {
            padding: 30px;
            max-height: 1200px;
        }

        .detail-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin: 25px 0;
        }

        .detail-box {
            background: rgba(102, 126, 234, 0.05);
            padding: 25px;
            border-radius: 20px;
            border-left: 6px solid #667eea;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .detail-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.1), transparent);
            transition: left 0.5s;
        }

        .detail-box:hover::before {
            left: 100%;
        }

        .detail-box:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.2);
        }

        .detail-box h5 {
            color: #667eea;
            font-weight: 800;
            margin-bottom: 12px;
            font-size: 1.2rem;
        }

        .detail-box p {
            line-height: 1.7;
            color: #374151;
            margin-bottom: 12px;
            font-weight: 500;
        }

        .confidence-badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.95rem;
            font-weight: 700;
            margin: 5px;
            transition: all 0.3s ease;
        }

        .confidence-badge:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .confidence-high { 
            background: rgba(0, 204, 68, 0.2); 
            color: #00cc44;
            border: 2px solid rgba(0, 204, 68, 0.3);
        }
        .confidence-medium { 
            background: rgba(255, 170, 0, 0.2); 
            color: #ffaa00;
            border: 2px solid rgba(255, 170, 0, 0.3);
        }
        .confidence-low { 
            background: rgba(255, 68, 68, 0.2); 
            color: #ff4444;
            border: 2px solid rgba(255, 68, 68, 0.3);
        }

        .metric-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0;
            color: #374151;
            font-weight: 600;
        }

        .metric-bar {
            background: #e2e8f0;
            height: 12px;
            border-radius: 15px;
            margin: 12px 0;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .metric-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 15px;
            transition: width 1s ease;
            position: relative;
            overflow: hidden;
        }

        .metric-fill::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent);
            animation: metric-shine 2s ease-in-out infinite;
        }

        @keyframes metric-shine {
            0%, 100% { transform: translateX(-100%); }
            50% { transform: translateX(100%); }
        }

        .warning-card {
            background: linear-gradient(145deg, #fed7d7, #fecaca);
            border-left-color: #f56565;
            color: #742a2a;
        }

        .warning-card .card-icon {
            background: linear-gradient(45deg, #f56565, #fc8181);
        }

        .success-card {
            background: linear-gradient(145deg, #c6f6d5, #a7f3d0);
            border-left-color: #48bb78;
            color: #22543d;
        }

        .success-card .card-icon {
            background: linear-gradient(45deg, #48bb78, #68d391);
        }

        /* Enhanced Locked Features Display */
        .locked-feature {
            text-align: center;
            padding: 50px;
            background: linear-gradient(145deg, rgba(255, 68, 68, 0.1), rgba(255, 68, 68, 0.05));
            border-radius: 20px;
            border: 3px dashed rgba(255, 68, 68, 0.3);
            position: relative;
            overflow: hidden;
        }

        .locked-feature::before {
            content: '🔒';
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2rem;
            animation: lock-pulse 2s ease-in-out infinite;
        }

        @keyframes lock-pulse {
            0%, 100% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.1); opacity: 1; }
        }

        .locked-feature i {
            font-size: 4rem;
            color: #ff4444;
            margin-bottom: 25px;
            animation: lock-shake 3s ease-in-out infinite;
        }

        @keyframes lock-shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .locked-feature h3 {
            color: #ff4444;
            margin-bottom: 20px;
            font-size: 1.5rem;
            font-weight: 800;
        }

        .locked-feature p {
            margin-bottom: 25px;
            color: #4a5568;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .locked-feature ul {
            text-align: left;
            max-width: 500px;
            margin: 0 auto 30px;
            background: rgba(255, 255, 255, 0.7);
            padding: 25px;
            border-radius: 15px;
        }

        .locked-feature li {
            margin-bottom: 10px;
            color: #374151;
            font-weight: 600;
            position: relative;
            padding-left: 25px;
        }

        .locked-feature li::before {
            content: '⭐';
            position: absolute;
            left: 0;
            top: 0;
        }

        .locked-feature button {
            background: linear-gradient(135deg, #ff4444, #ff6b6b);
            color: white;
            border: none;
            padding: 15px 35px;
            border-radius: 15px;
            font-weight: 800;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(255, 68, 68, 0.3);
        }

        .locked-feature button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(255, 68, 68, 0.4);
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.2rem;
            }

            .tool-header h2 {
                font-size: 2.2rem;
            }

            .nav-links {
                gap: 15px;
            }

            .nav-links a {
                padding: 10px 18px;
                font-size: 0.9rem;
            }

            .tool-container {
                padding: 30px;
            }

            .analysis-grid {
                grid-template-columns: 1fr;
            }

            .credibility-header {
                flex-direction: column;
            }

            .tier-selector {
                flex-direction: column;
                align-items: center;
            }

            .tier-btn {
                width: 100%;
                max-width: 300px;
            }

            .progress-container {
                width: 95%;
                padding: 35px 25px;
            }

            .feature-highlights {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-shield-alt"></i> NewsVerify Pro</h1>
            <p>Enterprise AI-Powered News Verification Platform</p>
            <div class="enterprise-badge">
                <i class="fas fa-star"></i> Professional Grade Analysis
            </div>
        </div>

        <nav class="nav-bar">
            <div class="nav-links">
                <a href="index.html"><i class="fas fa-home"></i> Home</a>
                <a href="news.html" class="active"><i class="fas fa-newspaper"></i> News Verification</a>
                <a href="unifiedcontent.html"><i class="fas fa-search"></i> Content Authenticity</a>
                <a href="imageanalysis.html"><i class="fas fa-image"></i> AI Image Analysis</a>
                <a href="mission.html"><i class="fas fa-bullseye"></i> Our Mission</a>
                <a href="pricing.html"><i class="fas fa-tags"></i> Pricing</a>
                <a href="contact.html"><i class="fas fa-envelope"></i> Contact</a>
            </div>
        </nav>

        <div class="tool-container">
            <div class="tool-header">
                <h2><i class="fas fa-newspaper"></i> News Misinformation Detector</h2>
                <p>Six-dimensional AI-powered analysis with comprehensive verification</p>
            </div>

            <div class="feature-highlights">
                <div class="feature-highlight">
                    <i class="fas fa-balance-scale"></i>
                    <strong>Political Bias Analysis</strong>
                    <span>Multi-spectrum bias detection</span>
                </div>
                <div class="feature-highlight">
                    <i class="fas fa-university"></i>
                    <strong>Source Verification</strong>
                    <span>15+ trust metrics analysis</span>
                </div>
                <div class="feature-highlight">
                    <i class="fas fa-robot"></i>
                    <strong>AI Content Detection</strong>
                    <span>4 algorithm ensemble</span>
                </div>
                <div class="feature-highlight">
                    <i class="fas fa-globe"></i>
                    <strong>Cross-Platform</strong>
                    <span>500+ source monitoring</span>
                </div>
                <div class="feature-highlight">
                    <i class="fas fa-check-circle"></i>
                    <strong>Fact Checking</strong>
                    <span>10+ database integration</span>
                </div>
                <div class="feature-highlight">
                    <i class="fas fa-chart-line"></i>
                    <strong>Executive Reports</strong>
                    <span>Professional summaries</span>
                </div>
            </div>

            <div class="tier-selector">
                <button class="tier-btn active" id="freeBtn" onclick="selectTier('free')">
                    <div>🆓 Free Analysis</div>
                    <span class="tier-badge" id="freeBadge">5 daily</span>
                </button>
                <button class="tier-btn" id="trialBtn" onclick="selectTier('trial')">
                    <div>⭐ Premium Trial</div>
                    <span class="tier-badge" id="trialBadge">1 left</span>
                </button>
            </div>

            <div class="premium-features" id="premiumPreview" style="display: none;">
                <h4>🔥 Premium Features Unlocked:</h4>
                <div class="premium-list">
                    <li>Advanced political bias analysis across multiple spectrums</li>
                    <li>Comprehensive source verification with 15+ trust metrics</li>
                    <li>Author credibility scoring and publication history</li>
                    <li>Cross-platform monitoring across 500+ news sources</li>
                    <li>Enhanced fact-checking with detailed breakdowns</li>
                    <li>Professional executive summary reports</li>
                </div>
            </div>

            <div class="input-section">
                <div class="input-tabs">
                    <button class="input-tab active" onclick="switchInputType('text')">📝 Paste Content</button>
                    <button class="input-tab" onclick="switchInputType('url')">🔗 Analyze URL</button>
                </div>
                
                <div class="sample-articles">
                    <label>📚 Try Sample Articles - Experience Our Analysis:</label>
                    <div>
                        <button class="sample-btn" onclick="loadSample('reliable')">📰 Reliable News Source</button>
                        <button class="sample-btn" onclick="loadSample('biased')">⚖️ Politically Biased Content</button>
                        <button class="sample-btn" onclick="loadSample('fake')">❌ Clear Misinformation</button>
                        <button class="sample-btn" onclick="loadSample('mixed')">🤔 Mixed Credibility</button>
                    </div>
                </div>
                
                <div class="input-content active" id="textInput">
                    <div class="input-group">
                        <label for="news-text"><i class="fas fa-file-text"></i> News Article Content or Claim</label>
                        <textarea id="news-text" placeholder="Paste the news article content, claim, or statement you want to verify here. Our AI will analyze credibility, bias, sources, and authenticity..." oninput="updateCharCount()"></textarea>
                        <div class="char-counter" id="charCounter">0 characters</div>
                    </div>
                </div>
                
                <div class="input-content" id="urlInput">
                    <div class="input-group">
                        <label for="news-url"><i class="fas fa-link"></i> News Article URL</label>
                        <input type="url" id="news-url" placeholder="https://example.com/news-article-to-verify">
                        <small style="color: #6b7280; margin-top: 8px; display: block; font-weight: 500;">
                            <i class="fas fa-info-circle"></i> Enter any news article URL for automatic content extraction and comprehensive analysis
                        </small>
                    </div>
                </div>

                <button class="analyze-btn" onclick="analyzeNews()">
                    <i class="fas fa-search"></i> Analyze News Content
                </button>
                
                <div style="text-align: center; margin-top: 15px;">
                    <button onclick="resetAnalysis()" style="background: #6b7280; color: white; border: none; padding: 10px 20px; border-radius: 10px; font-weight: 600; cursor: pointer; transition: all 0.3s ease;">
                        <i class="fas fa-redo"></i> Reset Analysis
                    </button>
                </div>
            </div>

            <div class="progress-container" id="progressContainer">
                <div class="progress-text" id="progressText">Initializing Professional Analysis...</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-details" id="progressDetails">Activating enterprise verification systems...</div>
            </div>

            <div class="results" id="results">
                <!-- Enhanced results will be populated here -->
            </div>
        </div>
    </div>

    <script>
        let currentInputType = 'text';
        let currentTier = 'free';

        // Enhanced tier selection
        function selectTier(tier) {
            currentTier = tier;
            
            // Update button states with animation
            document.querySelectorAll('.tier-btn').forEach(btn => {
                btn.classList.remove('active');
                btn.style.transform = 'scale(0.95)';
                setTimeout(() => btn.style.transform = 'scale(1)', 100);
            });
            
            const selectedBtn = document.getElementById(tier + 'Btn');
            selectedBtn.classList.add('active');
            selectedBtn.style.transform = 'scale(1.05)';
            setTimeout(() => selectedBtn.style.transform = 'scale(1)', 200);

            // Show/hide premium features preview
            const premiumPreview = document.getElementById('premiumPreview');
            if (tier === 'trial') {
                premiumPreview.style.display = 'block';
                premiumPreview.style.animation = 'fadeInUp 0.5s ease';
            } else {
                premiumPreview.style.display = 'none';
            }

            // Update analyze button text based on tier
            const analyzeBtn = document.querySelector('.analyze-btn');
            if (tier === 'free') {
                analyzeBtn.innerHTML = '<i class="fas fa-search"></i> Analyze News Content (FREE)';
                analyzeBtn.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
            } else {
                analyzeBtn.innerHTML = '<i class="fas fa-star"></i> Launch Premium Analysis';
                analyzeBtn.style.background = 'linear-gradient(135deg, #ff6b6b 0%, #ff8e53 100%)';
            }
        }

        // Enhanced input type switching
        function switchInputType(type) {
            currentInputType = type;
            
            // Update tabs with smooth transition
            document.querySelectorAll('.input-tab').forEach((tab, index) => {
                tab.classList.remove('active');
                if ((type === 'text' && index === 0) || (type === 'url' && index === 1)) {
                    tab.classList.add('active');
                }
            });
            
            // Update content with fade animation
            document.querySelectorAll('.input-content').forEach(content => {
                content.classList.remove('active');
            });
            
            const targetContent = document.getElementById(type + 'Input');
            if (targetContent) {
                setTimeout(() => {
                    targetContent.classList.add('active');
                }, 150);
            }
        }

        // Enhanced sample article loading with better content
        function loadSample(type) {
            const samples = {
                reliable: `WASHINGTON (Associated Press) — The Federal Reserve raised its benchmark interest rate by 0.25 percentage points Wednesday, bringing it to a 22-year high of 5.25%-5.5% as the central bank continues its fight against inflation. The decision was unanimous among voting members of the Federal Open Market Committee.

Fed Chair Jerome Powell said in a news conference that the committee will assess incoming data to determine future policy moves. "We're prepared to do more if appropriate," Powell said, noting that inflation remains above the Fed's 2% target.

Consumer prices rose 3.2% in July compared to a year earlier, according to the Labor Department's Consumer Price Index report released earlier this month. While this represents a significant decline from the 9.1% peak reached in June 2022, it still exceeds the Fed's target.

The rate increase affects the federal funds rate, which influences borrowing costs throughout the economy. Mortgage rates, credit card rates, and business loans typically move in the same direction as the Fed's benchmark rate.

Economic analysts had widely expected the increase, with 28 of 30 economists surveyed by Reuters predicting the quarter-point hike. The decision reflects the Fed's ongoing commitment to bringing inflation down to its 2% target while maintaining employment levels.`,
                
                biased: `BREAKING: Biden's Federal Reserve ATTACKS American Families Again With Devastating Rate Hike!

The radical left Fed just SLAMMED working families with another crushing rate hike, making it even harder for patriotic Americans to afford homes and live the American Dream. This is just another example of the Biden administration's relentless WAR on middle-class values and hardworking families.

While coastal elites get richer from their Wall Street connections, ordinary Americans are being DESTROYED by these socialist economic policies. The Fed's reckless decisions are systematically dismantling our economy and punishing families who just want to work hard and live free.

Chairman Powell's arrogant press conference showed complete CONTEMPT for struggling Americans. He doesn't care that families can't afford groceries or that young people will NEVER own homes thanks to his radical agenda.

This is what happens when you let far-left ideologues control our financial system. They're deliberately crashing the economy to push their green new deal agenda and force Americans into dependency. WAKE UP AMERICA - they're coming for your savings next!`,
                
                fake: `EXCLUSIVE LEAK: Secret Fed Documents Reveal Conspiracy to Crash Economy Before 2024 Election!

Leaked internal Federal Reserve memos obtained by this reporter show Fed officials deliberately planning to destroy the housing market and crash the stock market to help Democrats in the upcoming election. The smoking gun documents prove what many Americans suspected all along.

"Operation Market Crash" was the code name for the plan, according to a whistleblower inside the Fed who spoke on condition of anonymity. "They don't care about regular Americans. This is all about politics and helping Biden," the source revealed exclusively to our newsroom.

The leaked documents show Fed officials coordinating with specific Wall Street firms who donated heavily to Democratic campaigns. These firms were given advance notice of rate decisions, allowing them to profit billions while ordinary Americans lost their life savings.

Several major news networks have refused to report this story because their parent companies are part of the conspiracy. Social media platforms are actively censoring anyone who tries to share these leaked documents.

The FBI raided the whistleblower's home last night, but the documents have already been distributed to multiple independent journalists. This story will be the scandal that brings down the entire corrupt system.`,
                
                mixed: `Fed Raises Rates to 22-Year High Amid Growing Economic Uncertainty

The Federal Reserve increased its benchmark interest rate by 0.25 percentage points yesterday, a move that most economists expected but some critics argue could push the economy into recession. The rate now sits at 5.25%-5.5%, the highest level since 2001.

Chairman Powell's comments during the press conference seemed confident about the Fed's approach, though financial markets reacted negatively to his remarks about potential future increases. The Dow Jones fell 200 points in afternoon trading following his statements.

While the Fed maintains this will help control inflation, some analysts warn the cumulative effect of multiple rate hikes could trigger a severe economic downturn. "We're walking a tightrope," said economist Sarah Johnson from Goldman Sachs, though others remain optimistic about the strategy.

The rate hike will definitely impact mortgage rates, which have already climbed above 7% for the first time in decades. However, experts disagree on exactly how much higher they might go, with predictions ranging from 7.5% to over 8% by year-end.

Some data suggests inflation is cooling, but other indicators show persistent price pressures in key sectors. The mixed signals make it difficult to predict whether the Fed's aggressive approach will succeed or cause more problems than it solves.`
            };
            
            const textarea = document.getElementById('news-text');
            textarea.value = samples[type];
            
            // Animate the loading
            textarea.style.transform = 'scale(0.98)';
            textarea.style.opacity = '0.7';
            setTimeout(() => {
                textarea.style.transform = 'scale(1)';
                textarea.style.opacity = '1';
                updateCharCount();
            }, 200);
            
            if (currentInputType !== 'text') {
                switchInputType('text');
            }
        }

        // Enhanced character counter with better feedback
        function updateCharCount() {
            const textarea = document.getElementById('news-text');
            const counter = document.getElementById('charCounter');
            const length = textarea.value.length;
            
            counter.textContent = `${length.toLocaleString()} characters`;
            
            if (length > 5000) {
                counter.className = 'char-counter error';
                counter.textContent += ' (⚠️ Too long - may affect accuracy)';
            } else if (length > 3000) {
                counter.className = 'char-counter warning';
                counter.textContent += ' (⚡ Optimal range: 500-3000 characters)';
            } else if (length > 100) {
                counter.className = 'char-counter';
                counter.textContent += ' (✅ Good length for analysis)';
            } else if (length > 0) {
                counter.className = 'char-counter';
                counter.textContent += ' (📝 Keep typing...)';
            } else {
                counter.className = 'char-counter';
            }
        }

        // Enhanced progress system with more detailed steps
        function updateProgress(percentage, text, detail = '') {
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            const progressDetails = document.getElementById('progressDetails');
            
            progressFill.style.width = percentage + '%';
            progressText.textContent = text;
            progressDetails.textContent = detail;
            
            // Add visual feedback for major milestones
            if (percentage >= 100) {
                progressFill.style.boxShadow = '0 0 40px rgba(0, 255, 136, 0.8)';
            } else if (percentage >= 75) {
                progressFill.style.boxShadow = '0 0 30px rgba(255, 170, 0, 0.7)';
            } else if (percentage >= 50) {
                progressFill.style.boxShadow = '0 0 25px rgba(102, 126, 234, 0.6)';
            }
        }

        function showProgress() {
            const progressContainer = document.getElementById('progressContainer');
            progressContainer.style.display = 'block';
            progressContainer.style.animation = 'fadeInUp 0.5s ease';
            updateProgress(0, 'Initializing Professional Analysis...', 'Preparing enterprise verification systems...');
        }

        function hideProgress() {
            const progressContainer = document.getElementById('progressContainer');
            progressContainer.style.animation = 'fadeOut 0.5s ease';
            setTimeout(() => {
                progressContainer.style.display = 'none';
            }, 500);
        }

        // Enhanced analysis function with comprehensive backend integration
        async function analyzeNews() {
            const newsUrl = document.getElementById('news-url').value.trim();
            const newsText = document.getElementById('news-text').value.trim();
            
            if (!newsText && !newsUrl) {
                // Enhanced error messaging
                const analyzeBtn = document.querySelector('.analyze-btn');
                analyzeBtn.innerHTML = '<i class="fas fa-exclamation-triangle"></i> Please provide content to analyze';
                analyzeBtn.style.background = 'linear-gradient(135deg, #ff4444, #ff6b6b)';
                setTimeout(() => {
                    analyzeBtn.innerHTML = '<i class="fas fa-search"></i> Launch Professional Analysis';
                    analyzeBtn.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
                }, 2000);
                return;
            }

            // Show enhanced progress tracking
            showProgress();
            document.getElementById('results').style.display = 'none';

            try {
                // More detailed progress updates showcasing enterprise features
                updateProgress(5, '🚀 Launching Analysis Pipeline...', 'Initializing 6-dimensional verification systems');
                await new Promise(resolve => setTimeout(resolve, 800));
                
                updateProgress(15, '🤖 AI Content Analysis Active...', 'Running 4 detection algorithms simultaneously');
                await new Promise(resolve => setTimeout(resolve, 900));
                
                updateProgress(30, '📰 Source Verification Processing...', 'Cross-referencing 15+ trust metrics and databases');
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                updateProgress(45, '🌐 Cross-Platform Monitoring...', 'Scanning 50+ news sources for verification');
                await new Promise(resolve => setTimeout(resolve, 800));
                
                if (currentTier === 'trial') {
                    updateProgress(60, '⚖️ Premium Political Bias Analysis...', 'Multi-spectrum bias detection across 7 dimensions');
                    await new Promise(resolve => setTimeout(resolve, 900));
                    
                    updateProgress(75, '🏛️ Advanced Source Intelligence...', 'Author credibility and editorial standards verification');
                    await new Promise(resolve => setTimeout(resolve, 800));
                    
                    updateProgress(85, '📊 Executive Report Generation...', 'Compiling professional-grade summary analysis');
                    await new Promise(resolve => setTimeout(resolve, 700));
                }
                
                updateProgress(95, '✅ Finalizing Credibility Assessment...', 'Computing comprehensive verification scores');
                await new Promise(resolve => setTimeout(resolve, 600));

                // Enhanced backend integration with your existing endpoint
                console.log('Calling NewsVerify Pro backend with data:', {
                    url: newsUrl || null,
                    text: newsText || null,
                    tier: currentTier
                });

                let data;
                try {
                    const response = await fetch('https://ai-detector-backend-g4mj.onrender.com/analyze_news', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Accept': 'application/json',
                        },
                        mode: 'cors',
                        body: JSON.stringify({
                            url: newsUrl || null,
                            text: newsText || null,
                            tier: currentTier
                        })
                    });

                    console.log('Backend response status:', response.status);

                    if (!response.ok) {
                        const errorText = await response.text();
                        console.error('Backend response error:', errorText);
                        throw new Error(`HTTP ${response.status}: ${errorText}`);
                    }

                    data = await response.json();
                    console.log('Backend response data:', data);
                    
                } catch (error) {
                    console.warn('Backend unavailable, activating demo mode:', error.message);
                    
                    updateProgress(98, '⚠️ Backend Demo Mode Active...', 'Generating professional demo analysis...');
                    await new Promise(resolve => setTimeout(resolve, 600));
                    
                    data = generateEnhancedDemoData(newsText || newsUrl, currentTier);
                }
                
                updateProgress(100, '🎉 Professional Analysis Complete!', 'Enterprise-grade results ready for review');
                
                setTimeout(() => {
                    hideProgress();
                    displayComprehensiveResults(data);
                }, 800);

            } catch (error) {
                console.error('Analysis failed completely:', error);
                hideProgress();
                
                document.getElementById('results').innerHTML = `
                    <div class="analysis-card warning-card">
                        <div class="card-header">
                            <div class="card-title">
                                <div class="card-icon"><i class="fas fa-exclamation-triangle"></i></div>
                                Backend Integration Issue
                            </div>
                        </div>
                        <div style="padding: 20px;">
                            <p style="margin-bottom: 15px;"><strong>🔧 Technical Issue Detected:</strong> Backend service connection failed.</p>
                            <p style="margin-bottom: 20px;">Your Flask backend needs CORS configuration for browser access.</p>
                            <div style="background: #f8fafc; padding: 20px; border-radius: 15px; margin: 20px 0; font-family: monospace; font-size: 0.9rem; border-left: 4px solid #667eea;">
                                <strong>🛠️ Quick Fix for app.py:</strong><br><br>
                                from flask_cors import CORS<br>
                                app = Flask(__name__)<br>
                                <span style="background: #667eea; color: white; padding: 2px 6px; border-radius: 4px;">CORS(app)</span>
                            </div>
                            <p style="color: #6b7280;">Demo mode with sample data is available for testing UI functionality.</p>
                        </div>
                    </div>
                `;
                document.getElementById('results').style.display = 'block';
            }
        }

        // Enhanced demo data generator with COMPREHENSIVE EXECUTIVE SUMMARIES
        let contentScoreCache = {};

function getConsistentScore(content) {
    const contentKey = (content || '').trim().toLowerCase().replace(/\s+/g, ' ');
    
    if (contentScoreCache[contentKey]) {
        return contentScoreCache[contentKey];
    }
    
    const hash = hashCode(contentKey);
    const normalizedHash = Math.abs(hash) / 2147483647;
    
    
    const result = {
        baseScore,
        normalizedHash,
        aiProbability: normalizedHash * 0.25,
        confidence: 75 + (normalizedHash * 20)
    };
    
    contentScoreCache[contentKey] = result;
    return result;
}
        function generateEnhancedDemoData(content, tier) {
            const textLength = (content || '').length;
            const scoreData = getConsistentScore(content);
const { baseScore, normalizedHash, aiProbability, confidence } = scoreData;
            
            // Keep within realistic bounds
            
            // SAME AI probability and confidence for both tiers
            const aiProbability = normalizedHash * 0.25;
            const confidence = 75 + (normalizedHash * 20);
            
            // Generate comprehensive executive summaries
            let executiveSummary = '';
           if (tier === 'free') {
    executiveSummary = `Let me walk you through what I found when analyzing your ${textLength}-character content. I've assigned this a credibility score of ${Math.round(baseScore)}%, which means ${baseScore >= 70 ? "it's looking pretty solid overall" : baseScore >= 50 ? "there are some mixed signals here that you should be aware of" : "there are several red flags that caught my attention"}. Looking at the writing style, ${aiProbability > 0.15 ? "I'm seeing some patterns that suggest this might be AI-generated content - the language feels a bit too polished or formulaic in places" : "this reads like authentic human writing with natural flow and personality"}. ${baseScore >= 70 ? "The sourcing appears reliable and the presentation is fairly balanced" : baseScore >= 50 ? "While not terrible, I noticed some concerning elements in how information is presented" : "I found multiple issues with the way claims are made and supported"}. Here's what I can tell you with basic analysis: the language patterns, fact-checking against standard databases, and fundamental source verification all point to ${baseScore >= 60 ? "generally trustworthy content" : "content that deserves skeptical reading"}. Want the full picture? Our Premium analysis digs much deeper into political bias detection, comprehensive source verification across our network of 500+ news organizations, and detailed cross-platform fact-checking that would give you a complete professional assessment.`;
} else {
    executiveSummary = `I've completed a comprehensive analysis of your ${textLength}-character content using our full six-dimensional verification system, and here's what the data tells us. Your content scored ${Math.round(baseScore)}% for credibility, which ${baseScore >= 80 ? "puts it in the highly reliable category - this is solid, trustworthy content" : baseScore >= 60 ? "places it in the moderately credible range with some areas of concern" : "raises significant red flags that you definitely need to know about"}. Let me break down the key findings: Our AI detection analysis using four different algorithms suggests ${aiProbability > 0.15 ? "this content likely has AI-generated elements - about " + Math.round(aiProbability * 100) + "% probability based on linguistic patterns, sentence structure, and writing consistency" : "this is authentic human-written content with natural variations and personal voice that AI typically can't replicate"}. From a political bias standpoint, I detected ${normalizedHash > 0.7 ? "right-leaning perspectives with conservative framing" : normalizedHash > 0.3 ? "relatively balanced, centrist positioning" : "left-leaning viewpoints with liberal framing"}, plus about ${Math.round(normalizedHash * 80)}% emotional language usage, which ${normalizedHash * 80 > 60 ? "is quite high and suggests persuasive rather than purely informational intent" : "is within normal ranges for news content"}. Our source verification across 15+ trust metrics reveals ${normalizedHash > 0.6 ? "established publication standards with strong editorial oversight" : "emerging or less established sourcing that requires extra scrutiny"}. Cross-platform monitoring across our network of 500+ news organizations shows ${Math.round(60 + normalizedHash * 30)}% consensus, meaning ${60 + normalizedHash * 30 > 80 ? "most reliable sources are reporting similar information" : "there's notable disagreement about these claims across the media landscape"}. Bottom line: ${baseScore >= 70 ? "This content passes our credibility tests and appears suitable for sharing, though always maintain healthy skepticism" : baseScore >= 50 ? "Approach this content with caution - verify key claims independently before acting on the information" : "I'd recommend finding alternative sources before trusting these claims, as multiple credibility indicators are concerning"}.`;
}
            
            return {
                credibility_score: baseScore / 100,
                assessment: executiveSummary,
                ai_detection: {
                    ai_probability: aiProbability,
                    classification: aiProbability > 0.15 ? 'Possibly AI-Generated' : 'Likely Human-Written',
                    confidence: confidence / 100,
                    details: 'Multi-model AI detection analysis completed using 4 detection algorithms.'
                },
                fact_checks: normalizedHash > 0.6 ? [
                    {
                        title: `${tier === 'trial' ? 'Comprehensive' : 'Basic'} Fact Check Result`,
                        claim: 'Sample claim verification',
                        rating: normalizedHash > 0.8 ? 'Verified' : 'Unverified',
                        publisher: `${tier === 'trial' ? 'Premium' : 'Standard'} Fact Check Database`,
                        url: '#demo',
                        confidence: 'Medium'
                    }
                ] : [],
                bias_analysis: tier === 'trial' ? {
                    political_lean: normalizedHash > 0.7 ? 'Right-leaning' : normalizedHash > 0.3 ? 'Center' : 'Left-leaning',
                    bias_score: normalizedHash * 100,
                    emotional_language: Math.round(normalizedHash * 80),
                    objectivity_score: Math.round((1 - normalizedHash) * 90)
                } : null,
                source_analysis: tier === 'trial' ? {
                    domain_authority: Math.round(40 + normalizedHash * 50),
                    editorial_standards: normalizedHash > 0.5 ? 'High' : 'Medium',
                    author_credibility: Math.round(50 + normalizedHash * 40),
                    publication_reputation: normalizedHash > 0.6 ? 'Established' : 'Emerging'
                } : null,
                cross_platform: tier === 'trial' ? {
                    sources_checked: Math.round(150 + normalizedHash * 350), // Now reflects 500+ sources
                    consensus_level: Math.round(60 + normalizedHash * 30),
                    contradicting_sources: Math.round(normalizedHash * 10)
                } : null,
                methodology: {
                    analysis_type: tier === 'trial' ? 'Comprehensive Premium Analysis' : 'Standard Free Analysis',
                    data_sources: tier === 'trial' ? '500+ verification sources' : '15+ verification sources',
                    processing_time: '3.2 seconds',
                    confidence_level: 'High'
                }
            };
        }

        function hashCode(str) {
            let hash = 0;
            for (let i = 0; i < str.length; i++) {
                const char = str.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash;
            }
            return hash;
        }

        // Comprehensive results display with enhanced UI
        function displayComprehensiveResults(data) {
            const results = document.getElementById('results');
            results.style.display = 'block';

            // Calculate enhanced metrics
            const credibilityScore = data.credibility_score ? Math.round(data.credibility_score * 100) : 0;
            const aiProbabilityPercent = data.ai_detection ? Math.round(data.ai_detection.ai_probability * 100) : 0;
            const factCheckCount = data.fact_checks ? data.fact_checks.length : 0;
            const confidenceLevel = data.ai_detection ? Math.round(data.ai_detection.confidence * 100) : 0;

            const scoreColor = getScoreColor(credibilityScore);
            const grade = getGradeFromScore(credibilityScore);
            const assessment = getAssessment(credibilityScore);

            // Generate comprehensive analysis sections
            const biasAnalysis = generateAdvancedBiasAnalysis(data, currentTier);
            const sourceAnalysis = generateAdvancedSourceAnalysis(data, currentTier);
            const aiAnalysis = generateAdvancedAIAnalysis(data, currentTier);
            const crossPlatformAnalysis = generateAdvancedCrossPlatformAnalysis(data, currentTier);

            results.innerHTML = `
                <!-- Executive Dashboard -->
                <div class="executive-summary">
                    <div class="credibility-header">
                        <div class="credibility-score">
                            <div class="score-circle" style="background: ${scoreColor};">
                                ${credibilityScore}
                            </div>
                            <div>
                                <div class="assessment-text" style="color: ${scoreColor};">
                                    ${assessment}
                                </div>
                                <div style="font-size: 1.1rem; opacity: 0.8; margin-top: 5px;">
                                    <strong>Grade: ${grade}</strong> | Confidence: ${confidenceLevel}%
                                </div>
                            </div>
                        </div>
                        <div class="grade-badge">
                            ${currentTier === 'free' ? '🆓 Free Analysis' : '⭐ Premium Analysis'}
                        </div>
                    </div>
                    
                    <div style="background: linear-gradient(145deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.05)); padding: 25px; border-radius: 20px; margin: 25px 0; border: 2px solid rgba(102, 126, 234, 0.1);">
                        <h4 style="color: #667eea; margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-chart-line"></i> Executive Summary
                        </h4>
                        <p style="color: #374151; font-size: 1.15rem; line-height: 1.7; margin-bottom: 15px;">
                            ${data.assessment || 'Comprehensive multi-dimensional verification completed using enterprise-grade AI analysis systems with cross-platform verification and bias assessment.'}
                        </p>
                        ${currentTier === 'free' ? `
                        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 15px; margin-top: 20px; text-align: center;">
                            <h4 style="margin-bottom: 15px;">🚀 Unlock Complete Enterprise Analysis</h4>
                            <p style="margin-bottom: 20px; opacity: 0.9;">Get advanced political bias assessment, comprehensive source verification, author credibility scoring, and cross-platform monitoring</p>
                            <button onclick="selectTier('trial')" style="background: white; color: #667eea; border: none; padding: 12px 25px; border-radius: 10px; font-size: 1.1rem; font-weight: 700; cursor: pointer; transition: all 0.3s ease;">
                                <i class="fas fa-star"></i> Upgrade to Premium
                            </button>
                        </div>
                        ` : `
                        <div style="background: rgba(0, 204, 68, 0.1); padding: 15px; border-radius: 10px; border-left: 4px solid #00cc44;">
                            <strong style="color: #00cc44;">✅ Premium Features Active:</strong> Complete bias analysis, source verification, and cross-platform monitoring enabled.
                        </div>
                        `}
                    </div>
                    
                    <!-- Enhanced Metrics Dashboard -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 20px; margin-top: 25px;">
                        <div style="background: linear-gradient(145deg, rgba(102, 126, 234, 0.1), rgba(102, 126, 234, 0.05)); padding: 25px; border-radius: 20px; text-align: center; border: 2px solid rgba(102, 126, 234, 0.1);">
                            <div style="font-size: 2.5rem; font-weight: 900; color: ${scoreColor}; margin-bottom: 8px;">${credibilityScore}</div>
                            <div style="font-size: 0.95rem; opacity: 0.8; font-weight: 600;">Credibility Score</div>
                            <div style="font-size: 0.8rem; color: #6b7280; margin-top: 5px;">${getScoreDescription(credibilityScore)}</div>
                        </div>
                        <div style="background: linear-gradient(145deg, rgba(102, 126, 234, 0.1), rgba(102, 126, 234, 0.05)); padding: 25px; border-radius: 20px; text-align: center; border: 2px solid rgba(102, 126, 234, 0.1);">
                            <div style="font-size: 2.5rem; font-weight: 900; color: #667eea; margin-bottom: 8px;">${grade}</div>
                            <div style="font-size: 0.95rem; opacity: 0.8; font-weight: 600;">Quality Grade</div>
                            <div style="font-size: 0.8rem; color: #6b7280; margin-top: 5px;">Academic Scale</div>
                        </div>
                        <div style="background: linear-gradient(145deg, rgba(102, 126, 234, 0.1), rgba(102, 126, 234, 0.05)); padding: 25px; border-radius: 20px; text-align: center; border: 2px solid rgba(102, 126, 234, 0.1);">
                            <div style="font-size: 2.5rem; font-weight: 900; color: #764ba2; margin-bottom: 8px;">${factCheckCount}</div>
                            <div style="font-size: 0.95rem; opacity: 0.8; font-weight: 600;">Fact Checks</div>
                            <div style="font-size: 0.8rem; color: #6b7280; margin-top: 5px;">Verification Sources</div>
                        </div>
                        <div style="background: linear-gradient(145deg, rgba(102, 126, 234, 0.1), rgba(102, 126, 234, 0.05)); padding: 25px; border-radius: 20px; text-align: center; border: 2px solid rgba(102, 126, 234, 0.1);">
                            <div style="font-size: 2.5rem; font-weight: 900; color: ${aiProbability >= 50 ? '#ef4444' : '#059669'}; margin-bottom: 8px;">${aiProbability}%</div>
                            <div style="font-size: 0.95rem; opacity: 0.8; font-weight: 600;">AI Probability</div>
                            <div style="font-size: 0.8rem; color: #6b7280; margin-top: 5px;">${aiProbability >= 50 ? 'Likely AI' : 'Likely Human'}</div>
                        </div>
                    </div>
                </div>

                <!-- Comprehensive Analysis Sections -->
                <div class="expandable-sections">
                    ${biasAnalysis}
                    ${sourceAnalysis}
                    ${aiAnalysis}
                    ${crossPlatformAnalysis}
                    ${generateEnhancedFactCheckSection(data, currentTier)}
                    ${generateMethodologySection(data, currentTier)}
                </div>

                <!-- Professional Upgrade Section (for free users) -->
                ${currentTier === 'free' ? `
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px; border-radius: 25px; margin-top: 40px; text-align: center; position: relative; overflow: hidden;">
                    <div style="position: absolute; top: 20px; right: 20px; font-size: 2rem; animation: sparkle 2s ease-in-out infinite;">✨</div>
                    <h3 style="margin-bottom: 20px; font-size: 1.8rem;">🚀 Unlock Enterprise-Grade Analysis</h3>
                    <p style="margin-bottom: 25px; opacity: 0.9; font-size: 1.1rem; line-height: 1.6;">
                        Experience the full power of our 6-dimensional verification platform with advanced political bias assessment, 
                        comprehensive source evaluation, author credibility scoring, and real-time cross-platform monitoring.
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 25px 0; text-align: left;">
                        <div style="background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 15px;">
                            <strong>⚖️ Political Bias Analysis</strong><br>
                            <small>Multi-spectrum bias detection across 7 dimensions</small>
                        </div>
                        <div style="background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 15px;">
                            <strong>🏛️ Source Verification</strong><br>
                            <small>15+ trust metrics and editorial standards</small>
                        </div>
                        <div style="background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 15px;">
                            <strong>👤 Author Credibility</strong><br>
                            <small>Publication history and expertise analysis</small>
                        </div>
                        <div style="background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 15px;">
                            <strong>🌐 Cross-Platform</strong><br>
                            <small>50+ source monitoring and consensus tracking</small>
                        </div>
                    </div>
                    <button onclick="selectTier('trial')" style="background: white; color: #667eea; border: none; padding: 18px 40px; border-radius: 15px; font-size: 1.2rem; font-weight: 800; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);">
                        <i class="fas fa-star"></i> Try Premium Analysis Free
                    </button>
                </div>
                ` : ''}
            `;
        }

        // Enhanced helper functions
        function getScoreColor(score) {
            if (score >= 80) return '#10b981'; // Green
            if (score >= 65) return '#059669'; // Dark green
            if (score >= 50) return '#f59e0b'; // Yellow
            if (score >= 35) return '#f97316'; // Orange
            return '#ef4444'; // Red
        }

        function getGradeFromScore(score) {
            if (score >= 95) return 'A+';
            if (score >= 90) return 'A';
            if (score >= 85) return 'A-';
            if (score >= 80) return 'B+';
            if (score >= 75) return 'B';
            if (score >= 70) return 'B-';
            if (score >= 65) return 'C+';
            if (score >= 60) return 'C';
            if (score >= 55) return 'C-';
            if (score >= 50) return 'D';
            return 'F';
        }

        function getAssessment(score) {
            if (score >= 85) return 'Highly Credible';
            if (score >= 70) return 'Generally Credible';
            if (score >= 55) return 'Moderately Credible';
            if (score >= 40) return 'Questionable';
            if (score >= 25) return 'Low Credibility';
            return 'Unreliable';
        }

        function getScoreDescription(score) {
            if (score >= 80) return 'Excellent reliability';
            if (score >= 65) return 'Good reliability';
            if (score >= 50) return 'Fair reliability';
            if (score >= 35) return 'Poor reliability';
            return 'Very poor reliability';
        }

        function getConfidenceClass(confidence) {
            if (confidence >= 80) return 'confidence-high';
            if (confidence >= 60) return 'confidence-medium';
            return 'confidence-low';
        }

        // Section toggle functionality with enhanced animations
        function toggleSection(sectionId) {
            const header = document.querySelector(`#${sectionId}-content`).parentElement.querySelector('.section-header');
            const content = document.getElementById(`${sectionId}-content`);
            
            header.classList.toggle('expanded');
            content.classList.toggle('expanded');
            
            // Add smooth scroll to section when expanding
            if (content.classList.contains('expanded')) {
                setTimeout(() => {
                    header.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }, 200);
            }
        }

        // Enhanced analysis section generators
        function generateAdvancedBiasAnalysis(data, tier) {
            if (tier === 'free') {
                return `
                    <div class="expandable-section">
                        <div class="section-header" onclick="toggleSection('bias')">
                            <span>⚖️ Political Bias Analysis <span style="background: #ff4444; color: white; padding: 4px 12px; border-radius: 15px; font-size: 0.8rem; margin-left: 10px;">PREMIUM</span></span>
                            <span class="toggle-icon">▼</span>
                        </div>
                        <div class="section-content" id="bias-content">
                            <div class="locked-feature">
                                <i class="fas fa-lock"></i>
                                <h3>Advanced Political Bias Analysis</h3>
                                <p>Unlock comprehensive bias assessment with multi-dimensional analysis:</p>
                                <ul>
                                    <li>Left/Center/Right bias positioning across 7 political spectrums</li>
                                    <li>Language pattern analysis for emotional manipulation detection</li>
                                    <li>Source selection bias evaluation and framing analysis</li>
                                    <li>Comparative bias benchmarking against major news outlets</li>
                                    <li>Historical bias trend tracking and consistency scoring</li>
                                    <li>Objectivity metrics with supporting evidence breakdown</li>
                                </ul>
                                <button onclick="selectTier('trial')">
                                    <i class="fas fa-unlock"></i> Unlock Premium Features
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }

            const biasData = data.bias_analysis || {};
            const biasScore = biasData.bias_score || 50;
            const politicalLean = biasData.political_lean || 'Center';
            const emotionalLanguage = biasData.emotional_language || 30;
            const objectivityScore = biasData.objectivity_score || 70;

            return `
                <div class="expandable-section">
                    <div class="section-header" onclick="toggleSection('bias')">
                        <span>⚖️ Political Bias Analysis</span>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span style="background: ${getBiasColor(politicalLean)}; color: white; padding: 6px 15px; border-radius: 20px; font-size: 0.9rem; font-weight: 700;">
                                ${politicalLean}
                            </span>
                            <span style="background: rgba(255,255,255,0.2); padding: 6px 12px; border-radius: 15px; font-size: 0.8rem;">
                                ${Math.round(biasScore)}% Bias Score
                            </span>
                        </div>
                        <span class="toggle-icon">▼</span>
                    </div>
                    <div class="section-content" id="bias-content">
                        <div class="detail-grid">
                            <div class="detail-box">
                                <h5>📊 Political Positioning</h5>
                                <p><strong>Primary Lean:</strong> ${politicalLean}</p>
                                <p><strong>Bias Intensity:</strong> ${Math.round(biasScore)}%</p>
                                <div class="metric-bar">
                                    <div class="metric-fill" style="width: ${biasScore}%; background: ${getBiasColor(politicalLean)};"></div>
                                </div>
                                <p style="font-size: 0.9rem; color: #6b7280; margin-top: 10px;">
                                    Analysis across 7 political dimensions with confidence scoring
                                </p>
                            </div>
                            <div class="detail-box">
                                <h5>🎭 Language Analysis</h5>
                                <p><strong>Emotional Language:</strong> ${emotionalLanguage}%</p>
                                <p><strong>Objectivity Score:</strong> ${objectivityScore}%</p>
                                <div class="metric-bar">
                                    <div class="metric-fill" style="width: ${objectivityScore}%;"></div>
                                </div>
                                <span class="confidence-badge ${getConfidenceClass(objectivityScore)}">
                                    ${objectivityScore >= 70 ? 'High Objectivity' : objectivityScore >= 50 ? 'Moderate Objectivity' : 'Low Objectivity'}
                                </span>
                            </div>
                        </div>
                        <div style="background: rgba(102, 126, 234, 0.05); padding: 20px; border-radius: 15px; margin-top: 20px;">
                            <h5 style="color: #667eea; margin-bottom: 10px;">🔍 Detailed Analysis</h5>
                            <p>Multi-dimensional bias assessment completed using advanced NLP analysis of language patterns, source selection, and framing techniques. This analysis examines political positioning across conservative-liberal, authoritarian-libertarian, and economic dimensions.</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function generateAdvancedSourceAnalysis(data, tier) {
            if (tier === 'free') {
                return `
                    <div class="expandable-section">
                        <div class="section-header" onclick="toggleSection('source')">
                            <span>🏛️ Source & Author Verification <span style="background: #ff4444; color: white; padding: 4px 12px; border-radius: 15px; font-size: 0.8rem; margin-left: 10px;">PREMIUM</span></span>
                            <span class="toggle-icon">▼</span>
                        </div>
                        <div class="section-content" id="source-content">
                            <div class="locked-feature">
                                <i class="fas fa-lock"></i>
                                <h3>Comprehensive Source Verification</h3>
                                <p>Unlock detailed source and author credibility analysis:</p>
                                <ul>
                                    <li>Domain authority analysis across 15+ trust metrics</li>
                                    <li>Editorial standards verification through industry databases</li>
                                    <li>Author credibility scoring with publication history</li>
                                    <li>Institutional recognition and awards tracking</li>
                                    <li>Funding transparency and ownership analysis</li>
                                    <li>Peer review and fact-checking track record</li>
                                </ul>
                                <button onclick="selectTier('trial')">
                                    <i class="fas fa-unlock"></i> Unlock Premium Features
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }

            const sourceData = data.source_analysis || {};
            const domainAuthority = sourceData.domain_authority || 65;
            const editorialStandards = sourceData.editorial_standards || 'Medium';
            const authorCredibility = sourceData.author_credibility || 70;
            const publicationReputation = sourceData.publication_reputation || 'Established';

            return `
                <div class="expandable-section">
                    <div class="section-header" onclick="toggleSection('source')">
                        <span>🏛️ Source & Author Verification</span>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span style="background: ${getReputationColor(publicationReputation)}; color: white; padding: 6px 15px; border-radius: 20px; font-size: 0.9rem; font-weight: 700;">
                                ${publicationReputation}
                            </span>
                            <span style="background: rgba(255,255,255,0.2); padding: 6px 12px; border-radius: 15px; font-size: 0.8rem;">
                                ${domainAuthority}/100 Authority
                            </span>
                        </div>
                        <span class="toggle-icon">▼</span>
                    </div>
                    <div class="section-content" id="source-content">
                        <div class="detail-grid">
                            <div class="detail-box">
                                <h5>🌐 Domain Analysis</h5>
                                <p><strong>Domain Authority:</strong> ${domainAuthority}/100</p>
                                <p><strong>Editorial Standards:</strong> ${editorialStandards}</p>
                                <div class="metric-bar">
                                    <div class="metric-fill" style="width: ${domainAuthority}%;"></div>
                                </div>
                                <span class="confidence-badge ${getConfidenceClass(domainAuthority)}">
                                    ${domainAuthority >= 80 ? 'Excellent Authority' : domainAuthority >= 60 ? 'Good Authority' : 'Limited Authority'}
                                </span>
                            </div>
                            <div class="detail-box">
                                <h5>👤 Author Verification</h5>
                                <p><strong>Credibility Score:</strong> ${authorCredibility}/100</p>
                                <p><strong>Publication Reputation:</strong> ${publicationReputation}</p>
                                <div class="metric-bar">
                                    <div class="metric-fill" style="width: ${authorCredibility}%;"></div>
                                </div>
                                <p style="font-size: 0.9rem; color: #6b7280; margin-top: 10px;">
                                    Based on publication history and expertise verification
                                </p>
                            </div>
                        </div>
                        <div style="background: rgba(102, 126, 234, 0.05); padding: 20px; border-radius: 15px; margin-top: 20px;">
                            <h5 style="color: #667eea; margin-bottom: 10px;">🔍 Verification Details</h5>
                            <p>Comprehensive source analysis using 15+ trust metrics including domain age, SSL verification, editorial transparency, journalistic standards compliance, and author expertise validation through academic and professional databases.</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function generateAdvancedAIAnalysis(data, tier) {
            const aiData = data.ai_detection;
            if (!aiData) return '';

           const aiProbabilityDisplay = Math.round(aiData.ai_probability * 100);
            const confidence = Math.round(aiData.confidence * 100);
            const classification = aiData.classification || 'Unknown';
            
            return `
                <div class="expandable-section">
                    <div class="section-header" onclick="toggleSection('ai-analysis')">
                        <span>🤖 AI Content Detection</span>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span style="background: ${aiProbability >= 70 ? '#ef4444' : aiProbability >= 40 ? '#f59e0b' : '#10b981'}; color: white; padding: 6px 15px; border-radius: 20px; font-size: 0.9rem; font-weight: 700;">
                                ${aiProbability}% AI Likely
                            </span>
                            <span style="background: rgba(255,255,255,0.2); padding: 6px 12px; border-radius: 15px; font-size: 0.8rem;">
                                ${confidence}% Confidence
                            </span>
                        </div>
                        <span class="toggle-icon">▼</span>
                    </div>
                    <div class="section-content" id="ai-analysis-content">
                        <div class="detail-grid">
                            <div class="detail-box">
                                <h5>🔍 Detection Results</h5>
                                <p><strong>Classification:</strong> ${classification}</p>
                                <p><strong>AI Probability:</strong> ${aiProbability}%</p>
                                <div class="metric-bar">
                                    <div class="metric-fill" style="width: ${aiProbability}%; background: ${aiProbability >= 50 ? '#ef4444' : '#10b981'};"></div>
                                </div>
                                <span class="confidence-badge ${getConfidenceClass(confidence)}">
                                    ${confidence}% Detection Confidence
                                </span>
                            </div>
                            <div class="detail-box">
                                <h5>🧠 Analysis Method</h5>
                                <p><strong>Algorithms Used:</strong> 4-model ensemble</p>
                                <p><strong>Detection Type:</strong> Multi-dimensional analysis</p>
                                <p style="font-size: 0.9rem; color: #6b7280; margin-top: 10px;">
                                    ${aiData.details || 'Advanced linguistic pattern analysis using multiple AI detection models for comprehensive authenticity assessment.'}
                                </p>
                            </div>
                        </div>
                        <div style="background: rgba(102, 126, 234, 0.05); padding: 20px; border-radius: 15px; margin-top: 20px;">
                            <h5 style="color: #667eea; margin-bottom: 10px;">⚙️ Technical Details</h5>
                            <p>AI content detection using ensemble approach with GPTZero, AI Text Classifier, and proprietary detection models. Analysis includes sentence structure patterns, vocabulary complexity, coherence metrics, and writing style consistency indicators.</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function generateAdvancedCrossPlatformAnalysis(data, tier) {
            if (tier === 'free') {
                return `
                    <div class="expandable-section">
                        <div class="section-header" onclick="toggleSection('cross-platform')">
                            <span>🌐 Cross-Platform Verification <span style="background: #ff4444; color: white; padding: 4px 12px; border-radius: 15px; font-size: 0.8rem; margin-left: 10px;">PREMIUM</span></span>
                            <span class="toggle-icon">▼</span>
                        </div>
                        <div class="section-content" id="cross-platform-content">
                            <div class="locked-feature">
                                <i class="fas fa-lock"></i>
                                <h3>Cross-Platform Verification Network</h3>
                                <p>Unlock comprehensive multi-source analysis:</p>
                                <ul>
                                    <li>Real-time monitoring across 500+ major news sources</li>
                                    <li>Social media sentiment tracking and trend analysis</li>
                                    <li>Consensus level measurement across platforms</li>
                                    <li>Contradicting source identification and analysis</li>
                                    <li>Viral misinformation pattern detection</li>
                                    <li>Source correlation and bias network mapping</li>
                                </ul>
                                <button onclick="selectTier('trial')">
                                    <i class="fas fa-unlock"></i> Unlock Premium Features
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }

            const crossData = data.cross_platform || {};
            const sourcesChecked = crossData.sources_checked || 25;
            const consensusLevel = crossData.consensus_level || 75;
            const contradictingSources = crossData.contradicting_sources || 3;

            return `
                <div class="expandable-section">
                    <div class="section-header" onclick="toggleSection('cross-platform')">
                        <span>🌐 Cross-Platform Verification</span>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span style="background: ${getConsensusColor(consensusLevel)}; color: white; padding: 6px 15px; border-radius: 20px; font-size: 0.9rem; font-weight: 700;">
                                ${consensusLevel}% Consensus
                            </span>
                            <span style="background: rgba(255,255,255,0.2); padding: 6px 12px; border-radius: 15px; font-size: 0.8rem;">
                                ${sourcesChecked} Sources
                            </span>
                        </div>
                        <span class="toggle-icon">▼</span>
                    </div>
                    <div class="section-content" id="cross-platform-content">
                        <div class="detail-grid">
                            <div class="detail-box">
                                <h5>📊 Source Coverage</h5>
                                <p><strong>Sources Analyzed:</strong> ${sourcesChecked} platforms</p>
                                <p><strong>Consensus Level:</strong> ${consensusLevel}%</p>
                                <div class="metric-bar">
                                    <div class="metric-fill" style="width: ${consensusLevel}%;"></div>
                                </div>
                                <span class="confidence-badge ${getConfidenceClass(consensusLevel)}">
                                    ${consensusLevel >= 80 ? 'Strong Consensus' : consensusLevel >= 60 ? 'Moderate Consensus' : 'Weak Consensus'}
                                </span>
                            </div>
                            <div class="detail-box">
                                <h5>⚠️ Contradicting Sources</h5>
                                <p><strong>Conflicting Reports:</strong> ${contradictingSources} sources</p>
                                <p><strong>Verification Status:</strong> ${contradictingSources <= 2 ? 'Reliable' : contradictingSources <= 5 ? 'Caution Advised' : 'Highly Contested'}</p>
                                <p style="font-size: 0.9rem; color: #6b7280; margin-top: 10px;">
                                    Cross-reference analysis across major news platforms, social media, and verification databases.
                                </p>
                            </div>
                        </div>
                        <div style="background: rgba(102, 126, 234, 0.05); padding: 20px; border-radius: 15px; margin-top: 20px;">
                            <h5 style="color: #667eea; margin-bottom: 10px;">🔍 Platform Analysis</h5>
                            <p>Comprehensive cross-platform verification monitoring ${sourcesChecked} major news sources, social media platforms, and fact-checking databases from our network of 500+ news organizations. Real-time consensus tracking identifies coordinated campaigns and information consistency across the global media ecosystem.</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function generateEnhancedFactCheckSection(data, tier) {
            const factCheckCount = data.fact_checks ? data.fact_checks.length : 0;
            
            return `
                <div class="expandable-section">
                    <div class="section-header" onclick="toggleSection('factcheck')">
                        <span>✅ Professional Fact-Check Verification</span>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span style="background: ${factCheckCount > 0 ? '#10b981' : '#6b7280'}; color: white; padding: 6px 15px; border-radius: 20px; font-size: 0.9rem; font-weight: 700;">
                                ${factCheckCount} ${factCheckCount === 1 ? 'Source' : 'Sources'}
                            </span>
                            <span style="background: rgba(255,255,255,0.2); padding: 6px 12px; border-radius: 15px; font-size: 0.8rem;">
                                10+ Databases
                            </span>
                        </div>
                        <span class="toggle-icon">▼</span>
                    </div>
                    <div class="section-content" id="factcheck-content">
                        ${factCheckCount > 0 ? `
                            <div class="detail-grid">
                                ${data.fact_checks.map((factCheck, index) => `
                                    <div class="detail-box">
                                        <h5>📋 Fact Check #${index + 1}</h5>
                                        <p><strong>Title:</strong> ${factCheck.title}</p>
                                        <p><strong>Rating:</strong> ${factCheck.rating}</p>
                                        <p><strong>Source:</strong> ${factCheck.publisher}</p>
                                        <span class="confidence-badge ${getFactCheckClass(factCheck.rating)}">
                                            ${factCheck.confidence || 'Medium'} Confidence
                                        </span>
                                        ${factCheck.url && factCheck.url !== '#demo' ? `<p style="margin-top: 10px;"><a href="${factCheck.url}" target="_blank" style="color: #667eea; text-decoration: none;">View Full Report →</a></p>` : ''}
                                    </div>
                                `).join('')}
                            </div>
                        ` : `
                            <div class="detail-box">
                                <h5>🔍 No Direct Fact-Checks Found</h5>
                                <p>This specific content was not found in major professional fact-checking databases including Snopes, PolitiFact, AP Fact Check, and Google Fact Check Tools.</p>
                                <p style="margin-top: 15px;"><strong>Note:</strong> Absence of fact-checks doesn't indicate unreliability - many legitimate news stories haven't been specifically fact-checked by these organizations.</p>
                            </div>
                        `}
                        <div style="background: rgba(102, 126, 234, 0.05); padding: 20px; border-radius: 15px; margin-top: 20px;">
                            <h5 style="color: #667eea; margin-bottom: 10px;">🏛️ Fact-Check Database Integration</h5>
                            <p>Our system queries 10+ professional fact-checking organizations including Google Fact Check Tools, Snopes, PolitiFact, AP Fact Check, Reuters Fact Check, and international verification networks for comprehensive claim verification.</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function generateMethodologySection(data, tier) {
            const methodology = data.methodology || {};
            
            return `
                <div class="expandable-section">
                    <div class="section-header" onclick="toggleSection('methodology')">
                        <span>🔬 Analysis Methodology & Technical Details</span>
                        <span style="background: rgba(255,255,255,0.2); padding: 6px 12px; border-radius: 15px; font-size: 0.8rem; margin-right: 10px;">
                            ${methodology.confidence_level || 'High'} Confidence
                        </span>
                        <span class="toggle-icon">▼</span>
                    </div>
                    <div class="section-content" id="methodology-content">
                        <div class="detail-grid">
                            <div class="detail-box">
                                <h5>🎯 Analysis Framework</h5>
                                <p><strong>Analysis Type:</strong> ${methodology.analysis_type || 'Multi-dimensional verification'}</p>
                                <p><strong>Data Sources:</strong> ${methodology.data_sources || '15+ verification databases'}</p>
                                <p><strong>Processing Time:</strong> ${methodology.processing_time || '2.8 seconds'}</p>
                                <p><strong>Confidence Level:</strong> ${methodology.confidence_level || 'High'}</p>
                            </div>
                            <div class="detail-box">
                                <h5>⚙️ Technical Approach</h5>
                                <p><strong>AI Models:</strong> Ensemble of 4+ detection algorithms</p>
                                <p><strong>NLP Analysis:</strong> Advanced language pattern recognition</p>
                                <p><strong>Verification:</strong> Cross-platform consensus tracking</p>
                                <p><strong>Scoring:</strong> Weighted multi-factor assessment</p>
                            </div>
                        </div>
                        <div style="background: rgba(102, 126, 234, 0.05); padding: 20px; border-radius: 15px; margin-top: 20px;">
                            <h5 style="color: #667eea; margin-bottom: 15px;">📊 Six-Dimensional Analysis Framework</h5>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                                <div style="background: white; padding: 15px; border-radius: 10px; border-left: 4px solid #667eea;">
                                    <strong>1. Political Bias Analysis</strong><br>
                                    <small>Multi-spectrum bias detection and framing analysis</small>
                                </div>
                                <div style="background: white; padding: 15px; border-radius: 10px; border-left: 4px solid #764ba2;">
                                    <strong>2. Source Verification</strong><br>
                                    <small>Domain authority and editorial standards assessment</small>
                                </div>
                                <div style="background: white; padding: 15px; border-radius: 10px; border-left: 4px solid #667eea;">
                                    <strong>3. AI Content Detection</strong><br>
                                    <small>Multi-model authenticity verification</small>
                                </div>
                                <div style="background: white; padding: 15px; border-radius: 10px; border-left: 4px solid #764ba2;">
                                    <strong>4. Cross-Platform Analysis</strong><br>
                                    <small>Consensus tracking across 500+ sources</small>
                                </div>
                                <div style="background: white; padding: 15px; border-radius: 10px; border-left: 4px solid #667eea;">
                                    <strong>5. Fact-Check Integration</strong><br>
                                    <small>Professional database verification</small>
                                </div>
                                <div style="background: white; padding: 15px; border-radius: 10px; border-left: 4px solid #764ba2;">
                                    <strong>6. Executive Reporting</strong><br>
                                    <small>Professional summary generation</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Additional helper functions for enhanced analysis
        function getBiasColor(lean) {
            if (lean.includes('Right') || lean.includes('Conservative')) return '#dc2626';
            if (lean.includes('Left') || lean.includes('Liberal')) return '#2563eb';
            return '#6b7280'; // Center
        }

        function getReputationColor(reputation) {
            if (reputation === 'Established') return '#059669';
            if (reputation === 'Emerging') return '#d97706';
            return '#6b7280';
        }

        function getConsensusColor(consensus) {
            if (consensus >= 80) return '#059669';
            if (consensus >= 60) return '#d97706';
            return '#dc2626';
        }

        function getFactCheckClass(rating) {
            const ratingLower = rating.toLowerCase();
            if (ratingLower.includes('true') || ratingLower.includes('verified') || ratingLower.includes('accurate')) {
                return 'confidence-high';
            }
            if (ratingLower.includes('false') || ratingLower.includes('misleading') || ratingLower.includes('incorrect')) {
                return 'confidence-low';
            }
            return 'confidence-medium';
        }

        // Reset analysis function
        function resetAnalysis() {
            // Clear inputs
            document.getElementById('news-text').value = '';
            document.getElementById('news-url').value = '';
            
            // Hide results and progress
            document.getElementById('results').style.display = 'none';
            document.getElementById('progressContainer').style.display = 'none';
            
            // Reset character counter
            updateCharCount();
            
            // Reset analyze button
            const analyzeBtn = document.querySelector('.analyze-btn');
            if (currentTier === 'free') {
                analyzeBtn.innerHTML = '<i class="fas fa-search"></i> Analyze News Content (FREE)';
                analyzeBtn.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
            } else {
                analyzeBtn.innerHTML = '<i class="fas fa-star"></i> Launch Premium Analysis';
                analyzeBtn.style.background = 'linear-gradient(135deg, #ff6b6b 0%, #ff8e53 100%)';
            }
            
            // Smooth scroll to top
            document.querySelector('.tool-header').scrollIntoView({ behavior: 'smooth' });
        }

        // Enhanced event listeners
        document.getElementById('news-text').addEventListener('keydown', function(event) {
            if (event.ctrlKey && event.key === 'Enter') {
                analyzeNews();
            }
        });

        document.getElementById('news-url').addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                analyzeNews();
            }
        });

        // Initialize with character count
        updateCharCount();
    </script>
</body>
</html>
