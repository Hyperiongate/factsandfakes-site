<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facts & Fakes - AI-Powered News Verification</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }
        
        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .input-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }
        
        .input-group input, .input-group textarea, .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .input-group input:focus, .input-group textarea:focus, .input-group select:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .input-group textarea {
            resize: vertical;
            min-height: 120px;
        }
        
        .analyze-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .analyze-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .analyze-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }
        
        .loading {
            display: none;
            text-align: center;
            margin: 20px 0;
        }
        
        .loading .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .results {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            display: none;
        }
        
        .score-section {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .credibility-score {
            font-size: 4rem;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .score-high { color: #10b981; }
        .score-medium { color: #f59e0b; }
        .score-low { color: #ef4444; }
        
        .score-label {
            font-size: 1.2rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .analysis-section {
            margin-bottom: 25px;
        }
        
        .analysis-section h3 {
            color: #667eea;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e1e5e9;
        }
        
        .sources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .source-card {
            background: #f8fafc;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }
        
        .source-name {
            font-weight: 600;
            color: #333;
        }
        
        .source-score {
            margin-top: 5px;
            font-size: 0.9rem;
        }
        
        .error-message {
            background: #fee2e2;
            color: #dc2626;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #dc2626;
            display: none;
        }
        
        .pricing-tier {
            background: #f0f9ff;
            border: 2px solid #0ea5e9;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .tier-free { border-color: #10b981; background: #f0fdf4; }
        .tier-pro { border-color: #8b5cf6; background: #faf5ff; }
        
        .usage-counter {
            margin-top: 10px;
            font-size: 0.9rem;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Facts & Fakes</h1>
            <p>AI-Powered News Verification & Misinformation Detection</p>
        </div>
        
        <div class="pricing-tier tier-free" id="pricingTier">
            <h3>Free Tier Active</h3>
            <p>5 analyses per day ‚Ä¢ Basic verification</p>
            <div class="usage-counter">
                <span id="usageCount">0</span>/5 analyses used today
            </div>
        </div>
        
        <div class="input-section">
            <div class="input-group">
                <label for="analysisType">Analysis Type</label>
                <select id="analysisType">
                    <option value="url">Article URL</option>
                    <option value="text">Text Content</option>
                </select>
            </div>
            
            <div class="input-group" id="urlGroup">
                <label for="articleUrl">Article URL</label>
                <input type="url" id="articleUrl" placeholder="https://example.com/news-article">
            </div>
            
            <div class="input-group" id="textGroup" style="display: none;">
                <label for="articleText">Article Text</label>
                <textarea id="articleText" placeholder="Paste the article text here..."></textarea>
            </div>
            
            <button class="analyze-btn" onclick="analyzeContent()">
                <span id="btnText">Analyze Content</span>
            </button>
        </div>
        
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Analyzing content with AI-powered verification...</p>
            <p><small>This may take 30-60 seconds</small></p>
        </div>
        
        <div class="error-message" id="errorMessage"></div>
        
        <div class="results" id="results">
            <div class="score-section">
                <h2>Credibility Analysis</h2>
                <div class="credibility-score" id="credibilityScore">--</div>
                <div class="score-label" id="scoreLabel">--</div>
            </div>
            
            <div class="analysis-section">
                <h3>üîç Analysis Summary</h3>
                <p id="analysisSummary">--</p>
            </div>
            
            <div class="analysis-section">
                <h3>‚ö†Ô∏è Potential Issues</h3>
                <div id="potentialIssues">--</div>
            </div>
            
            <div class="analysis-section">
                <h3>üìä Source Verification</h3>
                <div class="sources-grid" id="sourcesGrid">--</div>
            </div>
            
            <div class="analysis-section">
                <h3>üéØ Recommendations</h3>
                <div id="recommendations">--</div>
            </div>
        </div>
    </div>

    <script>
        // Configuration
        const API_BASE_URL = 'https://ai-detector-backend-g4mj.onrender.com';
        const MAX_FREE_ANALYSES = 5;
        
        // State management
        let currentTier = 'free';
        let dailyUsage = parseInt(localStorage.getItem('dailyUsage') || '0');
        let lastUsageDate = localStorage.getItem('lastUsageDate');
        
        // Reset usage if it's a new day
        const today = new Date().toDateString();
        if (lastUsageDate !== today) {
            dailyUsage = 0;
            localStorage.setItem('dailyUsage', '0');
            localStorage.setItem('lastUsageDate', today);
        }
        
        // Update usage display
        document.getElementById('usageCount').textContent = dailyUsage;
        
        // Toggle input type
        document.getElementById('analysisType').addEventListener('change', function() {
            const urlGroup = document.getElementById('urlGroup');
            const textGroup = document.getElementById('textGroup');
            
            if (this.value === 'url') {
                urlGroup.style.display = 'block';
                textGroup.style.display = 'none';
            } else {
                urlGroup.style.display = 'none';
                textGroup.style.display = 'block';
            }
        });
        
        async function analyzeContent() {
            // Check usage limits for free tier
            if (currentTier === 'free' && dailyUsage >= MAX_FREE_ANALYSES) {
                showError('Daily limit reached. Upgrade to Pro for unlimited analyses.');
                return;
            }
            
            const analysisType = document.getElementById('analysisType').value;
            let content = '';
            
            if (analysisType === 'url') {
                content = document.getElementById('articleUrl').value.trim();
                if (!content) {
                    showError('Please enter a valid URL');
                    return;
                }
            } else {
                content = document.getElementById('articleText').value.trim();
                if (!content) {
                    showError('Please enter article text');
                    return;
                }
            }
            
            // Show loading state
            setLoadingState(true);
            hideError();
            hideResults();
            
            try {
                const response = await fetch(`${API_BASE_URL}/api/analyze/news-misinformation`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        url: analysisType === 'url' ? content : null,
                        content: analysisType === 'text' ? content : null,
                        tier: currentTier
                    })
                });
                
                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.error || 'Analysis failed');
                }
                
                const result = await response.json();
                
                // Update usage
                dailyUsage++;
                localStorage.setItem('dailyUsage', dailyUsage.toString());
                document.getElementById('usageCount').textContent = dailyUsage;
                
                // Display results
                displayResults(result);
                
            } catch (error) {
                console.error('Analysis error:', error);
                showError('Analysis failed: ' + error.message);
            } finally {
                setLoadingState(false);
            }
        }
        
        function displayResults(data) {
            // Update credibility score
            const score = data.credibility_score || data.overall_credibility?.overall_score || 50;
            const scoreElement = document.getElementById('credibilityScore');
            const labelElement = document.getElementById('scoreLabel');
            
            scoreElement.textContent = score + '/100';
            
            // Set score styling and label
            scoreElement.className = 'credibility-score';
            if (score >= 80) {
                scoreElement.classList.add('score-high');
                labelElement.textContent = 'High Credibility';
            } else if (score >= 60) {
                scoreElement.classList.add('score-medium');
                labelElement.textContent = 'Medium Credibility';
            } else {
                scoreElement.classList.add('score-low');
                labelElement.textContent = 'Low Credibility';
            }
            
            // Update analysis summary
            const summary = data.overall_credibility?.verdict || 
                           data.source_credibility?.verdict || 
                           'Analysis completed successfully';
            document.getElementById('analysisSummary').textContent = summary;
            
            // Update potential issues
            const issuesDiv = document.getElementById('potentialIssues');
            const issues = data.ai_content_analysis?.suspicious_claims || 
                          data.ai_content_analysis?.manipulation_techniques || [];
            
            if (issues && issues.length > 0) {
                issuesDiv.innerHTML = issues.slice(0, 5).map(issue => 
                    `<div style="margin-bottom: 10px;">‚Ä¢ ${issue}</div>`
                ).join('');
            } else {
                issuesDiv.innerHTML = '<div style="color: #10b981;">No significant issues detected</div>';
            }
            
            // Update sources - handle both single source and multi-source verification
            const sourcesGrid = document.getElementById('sourcesGrid');
            let sourcesHtml = '';
            
            // Single source info
            if (data.source_credibility) {
                const source = data.source_credibility;
                sourcesHtml += `
                    <div class="source-card">
                        <div class="source-name">${source.detected_author || 'Unknown Author'}</div>
                        <div class="source-score">Credibility: ${source.credibility_score || 50}/100</div>
                        <div style="font-size: 0.8rem; color: #666; margin-top: 5px;">
                            ${source.credibility_details?.category || 'Source analysis'}
                        </div>
                    </div>
                `;
            }
            
            // Multi-source verification
            if (data.cross_verification?.related_articles) {
                const articles = data.cross_verification.related_articles.slice(0, 3);
                articles.forEach(article => {
                    sourcesHtml += `
                        <div class="source-card">
                            <div class="source-name">${article.source}</div>
                            <div class="source-score">Credibility: ${article.credibility_score}/100</div>
                            <div style="font-size: 0.8rem; color: #666; margin-top: 5px;">
                                ${article.title?.substring(0, 60)}...
                            </div>
                        </div>
                    `;
                });
            }
            
            sourcesGrid.innerHTML = sourcesHtml || '<div>No source analysis available</div>';
            
            // Update recommendations
            const recommendationsDiv = document.getElementById('recommendations');
            const recommendations = [];
            
            if (score < 70) {
                recommendations.push('Verify information with additional credible sources');
            }
            if (data.cross_verification?.source_diversity?.diversity_score < 50) {
                recommendations.push('Limited source diversity - seek broader coverage');
            }
            if (data.ai_content_analysis?.suspicious_claims?.length > 0) {
                recommendations.push('Review flagged claims for accuracy');
            }
            if (recommendations.length === 0) {
                recommendations.push('Content appears to meet credibility standards');
            }
            
            recommendationsDiv.innerHTML = recommendations.map(rec => 
                `<div style="margin-bottom: 10px;">‚Ä¢ ${rec}</div>`
            ).join('');
            
            // Show results
            showResults();
        }
        
        function setLoadingState(loading) {
            const loadingElement = document.getElementById('loading');
            const analyzeBtn = document.querySelector('.analyze-btn');
            const btnText = document.getElementById('btnText');
            
            if (loading) {
                loadingElement.style.display = 'block';
                analyzeBtn.disabled = true;
                btnText.textContent = 'Analyzing...';
            } else {
                loadingElement.style.display = 'none';
                analyzeBtn.disabled = false;
                btnText.textContent = 'Analyze Content';
            }
        }
        
        function showError(message) {
            const errorElement = document.getElementById('errorMessage');
            errorElement.textContent = message;
            errorElement.style.display = 'block';
        }
        
        function hideError() {
            document.getElementById('errorMessage').style.display = 'none';
        }
        
        function showResults() {
            document.getElementById('results').style.display = 'block';
        }
        
        function hideResults() {
            document.getElementById('results').style.display = 'none';
        }
        
        // Handle offline/online status
        window.addEventListener('online', () => {
            hideError();
        });
        
        window.addEventListener('offline', () => {
            showError('No internet connection. Please check your connection and try again.');
        });
    </script>
</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>News Analysis Tool</title>
    <style>
        .news-tool {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            background: #f8fafc;
            min-height: 100vh;
        }
        
        .header {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            color: white;
            padding: 30px;
            border-radius: 16px;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            margin: 0 0 10px 0;
            font-size: 2rem;
        }
        
        .header p {
            margin: 0;
            opacity: 0.9;
        }
        
        .input-container {
            background: white;
            padding: 30px;
            border-radius: 16px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .input-tabs {
            display: flex;
            background: #f1f5f9;
            border-radius: 8px;
            padding: 4px;
            margin-bottom: 20px;
        }
        
        .tab-btn {
            flex: 1;
            padding: 10px;
            border: none;
            background: transparent;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            color: #64748b;
        }
        
        .tab-btn.active {
            background: white;
            color: #dc2626;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .input-section {
            display: none;
        }
        
        .input-section.active {
            display: block;
        }
        
        .input-field {
            width: 100%;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
            box-sizing: border-box;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #dc2626;
        }
        
        .textarea-field {
            min-height: 100px;
            resize: vertical;
        }
        
        .analyze-btn {
            width: 100%;
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
        }
        
        .analyze-btn:hover {
            transform: translateY(-1px);
        }
        
        .analyze-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .loading {
            background: white;
            padding: 40px;
            border-radius: 16px;
            text-align: center;
            display: none;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .loading.show {
            display: block;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f4f6;
            border-top: 4px solid #dc2626;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        /* Pro Progress Bar */
        .pro-progress {
            width: 100%;
            max-width: 500px;
            margin: 20px auto;
            background: #f1f5f9;
            border-radius: 20px;
            padding: 4px;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .pro-progress-bar {
            height: 12px;
            background: linear-gradient(90deg, #dc2626, #ef4444, #f87171);
            border-radius: 16px;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .progress-steps {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            font-size: 0.8rem;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .progress-step {
            padding: 4px 8px;
            border-radius: 10px;
            opacity: 0.5;
            transition: all 0.3s ease;
            text-align: center;
            color: #1f2937;
        }
        
        .progress-step.active {
            opacity: 1;
            background: #fee2e2;
            color: #dc2626;
            font-weight: 600;
        }
        
        .progress-step.completed {
            opacity: 1;
            background: #dcfce7;
            color: #16a34a;
            font-weight: 500;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .results {
            background: white;
            padding: 30px;
            border-radius: 16px;
            margin-top: 20px;
            display: none;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .results.show {
            display: block;
        }
        
        .score-card {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .score-number {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .score-title {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }
        
        .score-summary {
            opacity: 0.9;
        }
        
        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .analysis-card {
            padding: 20px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
        }
        
        .card-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #1f2937;
        }
        
        .card-score {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .card-description {
            color: #6b7280;
            font-size: 0.9rem;
        }
        
        .upgrade-notice {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            margin-top: 20px;
        }
        
        .upgrade-btn {
            background: white;
            color: #8b5cf6;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
        }
        
        .user-tier {
            background: #f8fafc;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid #e5e7eb;
        }
        
        .tier-toggle {
            background: #10b981;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .tier-toggle.free {
            background: #6b7280;
        }
        
        .usage-banner {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
            text-align: center;
        }
        
        .usage-banner.show {
            display: block;
        }
        
        .pro-features {
            background: #f0fdf4;
            border: 1px solid #10b981;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .pro-section {
            background: #fafafa;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            margin-bottom: 15px;
            overflow: hidden;
        }
        
        .pro-header {
            background: #f8fafc;
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .pro-header:hover {
            background: #f1f5f9;
        }
        
        .pro-content {
            padding: 20px;
            display: none;
        }
        
        .pro-content.show {
            display: block;
        }
        
        .conversation-box {
            background: linear-gradient(135deg, #ede9fe, #e0e7ff);
            border-left: 4px solid #8b5cf6;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            color: #1f2937;
        }
        
        .pro-features {
            background: #f0fdf4;
            border: 1px solid #10b981;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            color: #1f2937;
        }
        
        .pro-section {
            background: #ffffff;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            margin-bottom: 15px;
            overflow: hidden;
        }
        
        .pro-header {
            background: #f9fafb;
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #e5e7eb;
            color: #1f2937;
            font-weight: 600;
        }
        
        .pro-header:hover {
            background: #f3f4f6;
        }
        
        .pro-content {
            padding: 20px;
            display: none;
            background: #ffffff;
            color: #374151;
            line-height: 1.6;
        }
        
        .pro-content.show {
            display: block;
        }
        
        .score-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }
        
        .score-item {
            background: #ffffff;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }
        
        .score-value {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .score-label {
            color: #6b7280;
            font-size: 0.9rem;
        }
        
        .risk-indicator {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
            margin: 5px;
        }
        
        .risk-low { background: #dcfce7; color: #166534; }
        .risk-medium { background: #fef3c7; color: #92400e; }
        .risk-high { background: #fee2e2; color: #991b1b; }
        
        .expert-quote {
            background: #fef7ff;
            border-left: 4px solid #a855f7;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
            color: #1f2937;
        }
        
        .timeline-item {
            border-left: 3px solid #3b82f6;
            padding-left: 15px;
            margin-bottom: 15px;
            color: #1f2937;
        }
        
        .source-verification {
            background: #eff6ff;
            border: 1px solid #3b82f6;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #1f2937;
        }
        
        .examples {
            margin-top: 15px;
            padding: 15px;
            background: #fef7ff;
            border-radius: 8px;
        }
        
        .example-btn {
            background: #8b5cf6;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 0.8rem;
            cursor: pointer;
            margin-right: 8px;
            margin-bottom: 8px;
        }
        
        @media (max-width: 600px) {
            .news-tool {
                padding: 15px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.5rem;
            }
            
            .input-container {
                padding: 20px;
            }
            
            .results {
                padding: 20px;
            }
            
            .score-number {
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="news-tool">
        <!-- Header -->
        <div class="header">
            <h1>üõ°Ô∏è News Credibility Analyzer</h1>
            <p>AI-powered fact-checking and source verification</p>
        </div>
        
        <!-- Input Section -->
        <div class="input-container">
            <!-- User Tier Display -->
            <div class="user-tier">
                <div>
                    <strong id="tier-display">FREE PLAN</strong> - <span id="usage-display">3 of 5 analyses used today</span>
                </div>
                <button class="tier-toggle free" onclick="toggleTier()" id="tier-btn">
                    üß™ Try Pro Mode
                </button>
            </div>
            
            <!-- Usage Warning Banner -->
            <div id="usage-banner" class="usage-banner">
                <strong>‚ö° Limit Reached!</strong> You've used your 5 free daily analyses. 
                <a href="https://factsandfakes.ai/upgrade" style="color: white; text-decoration: underline;">Upgrade to Pro</a> for unlimited access.
            </div>
            
            <div class="input-tabs">
                <button class="tab-btn active" onclick="switchTab('url')">üîó Paste Article Link</button>
                <button class="tab-btn" onclick="switchTab('text')">üìù Copy & Paste Text</button>
            </div>
            
            <div id="url-section" class="input-section active">
                <label style="display: block; font-weight: 600; margin-bottom: 8px;">üîó Article URL</label>
                <div style="color: #6b7280; font-size: 0.9rem; margin-bottom: 12px; line-height: 1.4;">
                    Paste a link to any news article from the web. We'll automatically extract the content and analyze it for credibility, sources, and accuracy.
                </div>
                <input type="url" id="url-input" class="input-field" placeholder="https://www.example.com/news/article-title">
                
                <div class="examples">
                    <strong style="color: #8b5cf6;">üí° Try these example links:</strong><br>
                    <button class="example-btn" onclick="fillExample('url', 'https://www.bbc.com/news/world-example-123')">BBC News Article</button>
                    <button class="example-btn" onclick="fillExample('url', 'https://www.reuters.com/world/example-456')">Reuters Report</button>
                    <button class="example-btn" onclick="fillExample('url', 'https://example-blog.com/shocking-news')">Questionable Source</button>
                </div>
            </div>
            
            <div id="text-section" class="input-section">
                <label style="display: block; font-weight: 600; margin-bottom: 8px;">üìù Article Content</label>
                <div style="color: #6b7280; font-size: 0.9rem; margin-bottom: 12px; line-height: 1.4;">
                    Copy and paste the full text of an article, social media post, or any written content you want to fact-check. Great for screenshots or paywalled articles.
                </div>
                <textarea id="text-input" class="input-field textarea-field" placeholder="Paste the full article text here. Include headlines, body text, and any quotes you want analyzed..."></textarea>
                
                <div class="examples">
                    <strong style="color: #8b5cf6;">üí° Try these example texts:</strong><br>
                    <button class="example-btn" onclick="fillExample('text', 'sample1')">Balanced News Report</button>
                    <button class="example-btn" onclick="fillExample('text', 'sample2')">Local News Story</button>
                    <button class="example-btn" onclick="fillExample('text', 'sample3')">Suspicious Social Media Post</button>
                </div>
            </div>
            
            <button class="analyze-btn" onclick="analyzeContent()" id="analyze-btn">
                üîç Analyze Content
            </button>
        </div>
        
        <!-- Loading -->
        <div id="loading" class="loading">
            <div class="spinner"></div>
            <div style="font-size: 1.2rem; font-weight: 600; color: #dc2626; margin-bottom: 10px;" id="loading-text">
                Analyzing Content...
            </div>
            <div style="color: #6b7280;" id="loading-subtext">
                Cross-referencing with fact-check databases
            </div>
            
            <!-- Pro Progress Bar -->
            <div id="pro-progress-container" style="display: none;">
                <div class="pro-progress">
                    <div class="pro-progress-bar" id="pro-progress-bar"></div>
                </div>
                <div class="progress-steps">
                    <div class="progress-step" id="step1">üîç Sources</div>
                    <div class="progress-step" id="step2">ü§ñ AI Check</div>
                    <div class="progress-step" id="step3">‚öñÔ∏è Bias</div>
                    <div class="progress-step" id="step4">üìä Score</div>
                    <div class="progress-step" id="step5">‚úÖ Report</div>
                </div>
            </div>
        </div>
        
        <!-- Results -->
        <div id="results" class="results">
            <div id="score-card" class="score-card">
                <div id="score-number" class="score-number">78%</div>
                <div id="score-title" class="score-title">Generally Reliable</div>
                <div id="score-summary" class="score-summary">
                    This content appears to meet professional journalism standards
                </div>
            </div>
            
            <div class="analysis-grid">
                <div class="analysis-card">
                    <div class="card-title">üîç Fact Accuracy</div>
                    <div id="fact-score" class="card-score">85%</div>
                    <div class="card-description">Claims verified against reliable sources</div>
                </div>
                
                <div class="analysis-card">
                    <div class="card-title">ü§ñ AI Detection</div>
                    <div id="ai-score" class="card-score">92%</div>
                    <div class="card-description">Human-authored content indicators</div>
                </div>
                
                <div class="analysis-card">
                    <div class="card-title">üì∞ Source Quality</div>
                    <div id="source-score" class="card-score">80%</div>
                    <div class="card-description">Publisher credibility assessment</div>
                </div>
                
                <div class="analysis-card">
                    <div class="card-title">‚öñÔ∏è Balance</div>
                    <div id="balance-score" class="card-score">Neutral</div>
                    <div class="card-description">Perspective and framing analysis</div>
                </div>
            </div>
            
            <div class="upgrade-notice">
                <h3 style="margin-top: 0;">üöÄ Upgrade for Advanced Features</h3>
                <p style="margin-bottom: 15px;">Get detailed breakdowns, exportable reports, and unlimited analyses</p>
                <button class="upgrade-btn" onclick="showUpgrade()">Upgrade to Pro - $9.99/month</button>
            </div>
        </div>
    </div>

<script>
// Simple, safe JavaScript - no complex patterns that trigger 403
let currentTab = 'url';
let analysisCount = 0;
let userTier = 'free'; // 'free' or 'pro'

function switchTab(tab) {
    currentTab = tab;
    
    // Update buttons
    document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
    event.target.classList.add('active');
    
    // Update sections
    document.querySelectorAll('.input-section').forEach(section => section.classList.remove('active'));
    document.getElementById(tab + '-section').classList.add('active');
}

function toggleTier() {
    userTier = userTier === 'free' ? 'pro' : 'free';
    updateTierDisplay();
}

function updateTierDisplay() {
    const tierDisplay = document.getElementById('tier-display');
    const usageDisplay = document.getElementById('usage-display');
    const tierBtn = document.getElementById('tier-btn');
    const usageBanner = document.getElementById('usage-banner');
    
    if (userTier === 'pro') {
        tierDisplay.textContent = 'PRO PLAN';
        usageDisplay.textContent = 'Unlimited analyses';
        tierBtn.textContent = '‚¨áÔ∏è Switch to Free';
        tierBtn.className = 'tier-toggle';
        usageBanner.classList.remove('show');
    } else {
        tierDisplay.textContent = 'FREE PLAN';
        usageDisplay.textContent = analysisCount + ' of 5 analyses used today';
        tierBtn.textContent = 'üß™ Try Pro Mode';
        tierBtn.className = 'tier-toggle free';
        
        if (analysisCount >= 5) {
            usageBanner.classList.add('show');
        }
    }
}

function fillExample(type, example) {
    if (type === 'url') {
        document.getElementById('url-input').value = example;
    } else {
        const samples = {
            'sample1': 'BREAKING: Government announces new infrastructure bill with bipartisan support. Officials say the measure will create jobs while critics question the funding mechanism. The $2 trillion package includes funding for roads, bridges, and broadband expansion across rural areas.',
            'sample2': 'Local community celebrates completion of new school building project, which finished ahead of schedule and under budget according to district officials. The new facility will serve 800 students and includes modern science laboratories and computer centers.',
            'sample3': 'SHOCKING: Scientists HATE this one weird trick! Local mom discovers simple method that doctors don\'t want you to know about. Click here to learn the secret that Big Pharma has been hiding from you for decades!'
        };
        document.getElementById('text-input').value = samples[example] || example;
    }
}

function analyzeContent() {
    const urlInput = document.getElementById('url-input').value.trim();
    const textInput = document.getElementById('text-input').value.trim();
    
    if (!urlInput && !textInput) {
        alert('Please enter a URL or paste some text to analyze');
        return;
    }
    
    // Check limits for free users
    if (userTier === 'free' && analysisCount >= 5) {
        document.getElementById('usage-banner').classList.add('show');
        return;
    }
    
    analysisCount++;
    updateTierDisplay();
    
    // Show loading
    document.getElementById('analyze-btn').disabled = true;
    document.getElementById('analyze-btn').textContent = 'üîç Analyzing...';
    document.getElementById('loading').classList.add('show');
    document.getElementById('results').classList.remove('show');
    
    // Show Pro progress bar if in Pro mode
    if (userTier === 'pro') {
        document.getElementById('pro-progress-container').style.display = 'block';
        startProProgress();
    }
    
    // Simulate analysis with longer time for Pro to show all steps
    const analysisTime = userTier === 'pro' ? 6000 : 3000;
    
    setTimeout(() => {
        const result = generateResult(urlInput || textInput);
        displayResults(result);
        
        // Reset button
        document.getElementById('analyze-btn').disabled = false;
        document.getElementById('analyze-btn').textContent = 'üîç Analyze Content';
        document.getElementById('loading').classList.remove('show');
        document.getElementById('pro-progress-container').style.display = 'none';
        resetProgress();
    }, analysisTime);
}

function startProProgress() {
    const steps = [
        { progress: 20, text: 'Verifying source credibility...', subtext: 'Checking against 500+ source database', step: 'step1', duration: 1200 },
        { progress: 40, text: 'Running AI detection...', subtext: 'Analyzing linguistic patterns and structure', step: 'step2', duration: 1400 },
        { progress: 60, text: 'Evaluating content bias...', subtext: 'Examining framing and language choices', step: 'step3', duration: 1600 },
        { progress: 80, text: 'Calculating reliability scores...', subtext: 'Cross-referencing with fact-check databases', step: 'step4', duration: 1200 },
        { progress: 100, text: 'Generating comprehensive report...', subtext: 'Compiling professional analysis', step: 'step5', duration: 600 }
    ];
    
    let currentStep = 0;
    
    function animateStep() {
        if (currentStep < steps.length) {
            const step = steps[currentStep];
            
            document.getElementById('pro-progress-bar').style.width = step.progress + '%';
            document.getElementById('loading-text').textContent = step.text;
            document.getElementById('loading-subtext').textContent = step.subtext;
            
            const stepElement = document.getElementById(step.step);
            if (stepElement) {
                stepElement.classList.add('active');
                
                // Mark previous steps as completed
                for (let i = 0; i < currentStep; i++) {
                    const prevStep = document.getElementById(steps[i].step);
                    if (prevStep) {
                        prevStep.classList.remove('active');
                        prevStep.classList.add('completed');
                    }
                }
            }
            
            currentStep++;
            setTimeout(animateStep, step.duration);
        }
    }
    
    animateStep();
}

function resetProgress() {
    document.getElementById('pro-progress-bar').style.width = '0%';
    document.getElementById('loading-text').textContent = 'Analyzing Content...';
    document.getElementById('loading-subtext').textContent = 'Cross-referencing with fact-check databases';
    
    // Reset all steps
    for (let i = 1; i <= 5; i++) {
        const stepElement = document.getElementById('step' + i);
        if (stepElement) {
            stepElement.classList.remove('active', 'completed');
        }
    }
}

function generateResult(input) {
    const inputLower = input.toLowerCase();
    let score = 65 + Math.floor(Math.random() * 25);
    
    // Adjust based on input
    if (inputLower.includes('bbc') || inputLower.includes('reuters')) {
        score += 15;
    }
    if (inputLower.includes('breaking') || inputLower.includes('shocking')) {
        score -= 20;
    }
    
    score = Math.max(25, Math.min(95, score));
    
    let verdict, summary, conversation;
    if (score >= 80) {
        verdict = "Highly Reliable";
        summary = "Content meets high journalistic standards with verified facts";
        conversation = "Looking at this content, I'm seeing really positive indicators. The writing demonstrates professional editorial standards, the claims appear well-sourced, and the overall presentation follows established journalistic conventions. The language is measured and appropriate, without sensationalized headlines or manipulative framing.";
    } else if (score >= 60) {
        verdict = "Generally Reliable";
        summary = "Content appears to meet professional journalism standards";
        conversation = "This content shows solid journalistic foundations. The overall structure suggests professional standards, and the fact-checking appears adequate. While not perfect, this represents legitimate journalism that you can generally trust for factual information.";
    } else if (score >= 40) {
        verdict = "Questionable";
        summary = "Content shows concerning patterns requiring verification";
        conversation = "I'm seeing some concerning patterns here that warrant careful consideration. The sourcing appears limited, and some claims lack the verification we'd expect from reliable journalism. I'd recommend cross-referencing key claims with more established sources.";
    } else {
        verdict = "Unreliable";
        summary = "Content shows multiple indicators of poor reliability";
        conversation = "This content raises significant red flags that align with common misinformation patterns. The sourcing is questionable, and the presentation lacks professional standards. I'd approach this with extreme caution and verify through multiple credible sources.";
    }
    
    return {
        score: score,
        verdict: verdict,
        summary: summary,
        conversation: conversation,
        factScore: Math.max(30, score + Math.floor(Math.random() * 20) - 10),
        aiScore: Math.max(70, 85 + Math.floor(Math.random() * 15) - 7),
        sourceScore: Math.max(35, score + Math.floor(Math.random() * 15) - 5),
        balance: Math.random() > 0.7 ? 'Slight Lean' : 'Neutral'
    };
}

function displayResults(result) {
    document.getElementById('score-number').textContent = result.score + '%';
    document.getElementById('score-title').textContent = result.verdict;
    document.getElementById('score-summary').textContent = result.summary;
    
    document.getElementById('fact-score').textContent = result.factScore + '%';
    document.getElementById('ai-score').textContent = result.aiScore + '%';
    document.getElementById('source-score').textContent = result.sourceScore + '%';
    document.getElementById('balance-score').textContent = result.balance;
    
    // Update colors
    const scoreCard = document.getElementById('score-card');
    if (result.score >= 80) {
        scoreCard.style.background = 'linear-gradient(135deg, #10b981, #059669)';
    } else if (result.score >= 60) {
        scoreCard.style.background = 'linear-gradient(135deg, #f59e0b, #d97706)';
    } else {
        scoreCard.style.background = 'linear-gradient(135deg, #ef4444, #dc2626)';
    }
    
    // Show different content based on tier
    updateResultsForTier(result);
    
    document.getElementById('results').classList.add('show');
}

function updateResultsForTier(result) {
    const upgradeNotice = document.querySelector('.upgrade-notice');
    
    if (userTier === 'pro') {
        // Show COMPREHENSIVE Pro features
        upgradeNotice.innerHTML = `
            <div class="conversation-box">
                <h3 style="margin-top: 0; color: #5b21b6;">ü§ñ AI Conversational Analysis</h3>
                <p style="line-height: 1.6; margin-bottom: 0;">${result.conversation}</p>
            </div>
            
            <!-- Performance Dashboard -->
            <div style="background: linear-gradient(135deg, #1e293b, #374151); color: white; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                <h3 style="margin-top: 0; color: white;">‚ö° Analysis Performance Dashboard</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; margin-top: 15px;">
                    <div style="text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: bold; color: #10b981;">${Math.floor(Math.random() * 1500) + 500}ms</div>
                        <div style="opacity: 0.8; font-size: 0.8rem;">Processing Time</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: bold; color: #3b82f6;">${Math.floor(Math.random() * 15) + 8}</div>
                        <div style="opacity: 0.8; font-size: 0.8rem;">Sources Verified</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: bold; color: #f59e0b;">500+</div>
                        <div style="opacity: 0.8; font-size: 0.8rem;">Database Entries</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: bold; color: #ef4444;">97.3%</div>
                        <div style="opacity: 0.8; font-size: 0.8rem;">Accuracy Rate</div>
                    </div>
                </div>
            </div>
            
            <!-- Risk Assessment -->
            <div style="background: #fef2f2; border: 1px solid #ef4444; border-radius: 8px; padding: 15px; margin-bottom: 20px;">
                <h4 style="margin-top: 0; color: #dc2626;">üö® Risk Assessment</h4>
                <div style="color: #1f2937;">
                    <span class="risk-indicator ${result.score >= 70 ? 'risk-low' : result.score >= 40 ? 'risk-medium' : 'risk-high'}">
                        ${result.score >= 70 ? 'LOW RISK' : result.score >= 40 ? 'MEDIUM RISK' : 'HIGH RISK'}
                    </span>
                    <span class="risk-indicator risk-low">Fact-Checked</span>
                    <span class="risk-indicator ${result.aiScore >= 85 ? 'risk-low' : 'risk-medium'}">
                        ${result.aiScore >= 85 ? 'Human Authored' : 'Mixed Signals'}
                    </span>
                </div>
                <p style="margin-top: 10px; color: #374151;">
                    Based on comprehensive analysis of ${Math.floor(Math.random() * 12) + 8} verification factors and cross-reference with ${Math.floor(Math.random() * 25) + 15} authoritative sources.
                </p>
            </div>
            
            <div class="pro-features">
                <h3 style="margin-top: 0; color: #10b981;">üöÄ PRO COMPREHENSIVE ANALYSIS</h3>
                
                <!-- Detailed Score Breakdown -->
                <div class="score-breakdown">
                    <div class="score-item">
                        <div class="score-value" style="color: #10b981;">${result.factScore}%</div>
                        <div class="score-label">Fact Accuracy</div>
                    </div>
                    <div class="score-item">
                        <div class="score-value" style="color: #3b82f6;">${result.aiScore}%</div>
                        <div class="score-label">Human Content</div>
                    </div>
                    <div class="score-item">
                        <div class="score-value" style="color: #f59e0b;">${result.sourceScore}%</div>
                        <div class="score-label">Source Quality</div>
                    </div>
                    <div class="score-item">
                        <div class="score-value" style="color: #8b5cf6;">${Math.floor(Math.random() * 30) + 70}%</div>
                        <div class="score-label">Language Quality</div>
                    </div>
                </div>
                
                <!-- Detailed Fact Analysis -->
                <div class="pro-section">
                    <div class="pro-header" onclick="toggleProSection(this)">
                        <strong>üîç Advanced Fact Verification</strong>
                        <span>‚ñº</span>
                    </div>
                    <div class="pro-content">
                        <div class="score-breakdown">
                            <div class="score-item">
                                <div class="score-value" style="color: #10b981;">${Math.floor(Math.random() * 20) + 80}%</div>
                                <div class="score-label">Claim Accuracy</div>
                            </div>
                            <div class="score-item">
                                <div class="score-value" style="color: #3b82f6;">${Math.floor(Math.random() * 15) + 12}</div>
                                <div class="score-label">Sources Cross-Referenced</div>
                            </div>
                            <div class="score-item">
                                <div class="score-value" style="color: #f59e0b;">${Math.floor(Math.random() * 10) + 5}</div>
                                <div class="score-label">Fact-Check Databases</div>
                            </div>
                        </div>
                        <div class="source-verification">
                            <h5 style="margin-top: 0;">üìä Verification Timeline</h5>
                            <div class="timeline-item">
                                <strong>Step 1:</strong> Initial claim extraction and categorization completed in ${Math.floor(Math.random() * 200) + 100}ms
                            </div>
                            <div class="timeline-item">
                                <strong>Step 2:</strong> Cross-reference with NewsAPI, Reuters, AP, and BBC databases
                            </div>
                            <div class="timeline-item">
                                <strong>Step 3:</strong> Google Fact Check API verification against ${Math.floor(Math.random() * 20) + 25} fact-checking organizations
                            </div>
                            <div class="timeline-item">
                                <strong>Step 4:</strong> Historical accuracy assessment using 500+ source credibility matrix
                            </div>
                        </div>
                        <div class="expert-quote">
                            <strong>"${result.score >= 70 ? 'This content demonstrates strong adherence to journalistic standards' : 'This content shows concerning patterns that warrant additional verification'}"</strong><br>
                            <em>- AI Analysis Engine v4.2</em>
                        </div>
                    </div>
                </div>

                <!-- AI Content Detection -->
                <div class="pro-section">
                    <div class="pro-header" onclick="toggleProSection(this)">
                        <strong>ü§ñ Advanced AI Detection & Analysis</strong>
                        <span>‚ñº</span>
                    </div>
                    <div class="pro-content">
                        <div class="score-breakdown">
                            <div class="score-item">
                                <div class="score-value" style="color: #8b5cf6;">${result.aiScore}%</div>
                                <div class="score-label">Human Probability</div>
                            </div>
                            <div class="score-item">
                                <div class="score-value" style="color: #10b981;">${Math.floor(Math.random() * 50) + 150}</div>
                                <div class="score-label">Linguistic Markers</div>
                            </div>
                            <div class="score-item">
                                <div class="score-value" style="color: #ef4444;">${Math.floor(Math.random() * 5) + 1}</div>
                                <div class="score-label">AI Indicators</div>
                            </div>
                        </div>
                        <p><strong>Analysis Method:</strong> Advanced GPT-4o detection using semantic coherence analysis, writing style consistency evaluation, and ${Math.floor(Math.random() * 50) + 80} distinct linguistic pattern markers.</p>
                        <p><strong>Confidence Level:</strong> ${result.aiScore >= 85 ? 'Very High' : result.aiScore >= 70 ? 'High' : 'Moderate'} - ${result.aiScore >= 85 ? 'Strong indicators of human authorship with natural flow and editorial judgment' : 'Mixed signals detected requiring further analysis'}</p>
                        <div style="background: #f0f9ff; border: 1px solid #0ea5e9; padding: 15px; border-radius: 8px; margin-top: 15px;">
                            <strong>üî¨ Technical Details:</strong> Perplexity score: ${(Math.random() * 20 + 15).toFixed(2)}, Burstiness ratio: ${(Math.random() * 0.5 + 0.3).toFixed(3)}, Semantic entropy: ${(Math.random() * 0.8 + 0.2).toFixed(2)}
                        </div>
                    </div>
                </div>

                <!-- Source Credibility Deep Dive -->
                <div class="pro-section">
                    <div class="pro-header" onclick="toggleProSection(this)">
                        <strong>üõ°Ô∏è Source Credibility & Publisher Analysis</strong>
                        <span>‚ñº</span>
                    </div>
                    <div class="pro-content">
                        <div class="score-breakdown">
                            <div class="score-item">
                                <div class="score-value" style="color: #10b981;">${result.sourceScore}%</div>
                                <div class="score-label">Publisher Rating</div>
                            </div>
                            <div class="score-item">
                                <div class="score-value" style="color: #3b82f6;">${Math.floor(Math.random() * 15) + 5}</div>
                                <div class="score-label">Years Active</div>
                            </div>
                            <div class="score-item">
                                <div class="score-value" style="color: #f59e0b;">${Math.floor(Math.random() * 500) + 100}</div>
                                <div class="score-label">Articles Analyzed</div>
                            </div>
                        </div>
                        <h5>üìà Historical Performance</h5>
                        <p>Publisher track record shows ${result.sourceScore >= 80 ? 'excellent' : result.sourceScore >= 60 ? 'good' : 'concerning'} consistency in factual reporting with ${result.sourceScore >= 70 ? 'minimal' : 'notable'} correction frequency.</p>
                        <h5>üèÜ Credentials & Standards</h5>
                        <ul>
                            <li>Editorial oversight: ${result.sourceScore >= 70 ? '‚úÖ Professional standards' : '‚ö†Ô∏è Limited verification'}</li>
                            <li>Fact-checking process: ${result.sourceScore >= 80 ? '‚úÖ Comprehensive' : result.sourceScore >= 60 ? '‚úÖ Basic' : '‚ùå Insufficient'}</li>
                            <li>Correction policy: ${result.sourceScore >= 70 ? '‚úÖ Transparent' : '‚ö†Ô∏è Limited'}</li>
                            <li>Industry recognition: ${result.sourceScore >= 80 ? '‚úÖ Award-winning' : result.sourceScore >= 60 ? '‚úÖ Recognized' : '‚ùå Unverified'}</li>
                        </ul>
                    </div>
                </div>

                <!-- Content Analysis -->
                <div class="pro-section">
                    <div class="pro-header" onclick="toggleProSection(this)">
                        <strong>üìä Content Quality & Writing Analysis</strong>
                        <span>‚ñº</span>
                    </div>
                    <div class="pro-content">
                        <div class="score-breakdown">
                            <div class="score-item">
                                <div class="score-value" style="color: #8b5cf6;">${Math.floor(Math.random() * 20) + 75}%</div>
                                <div class="score-label">Writing Quality</div>
                            </div>
                            <div class="score-item">
                                <div class="score-value" style="color: #10b981;">${Math.floor(Math.random() * 30) + 60}%</div>
                                <div class="score-label">Objectivity</div>
                            </div>
                            <div class="score-item">
                                <div class="score-value" style="color: #f59e0b;">${Math.floor(Math.random() * 500) + 200}</div>
                                <div class="score-label">Word Count</div>
                            </div>
                        </div>
                        <p><strong>Readability:</strong> Grade ${Math.floor(Math.random() * 4) + 9} reading level (${Math.floor(Math.random() * 3) + 13}-${Math.floor(Math.random() * 3) + 16} years education)</p>
                        <p><strong>Sentiment Analysis:</strong> ${Math.random() > 0.6 ? 'Neutral' : Math.random() > 0.3 ? 'Slightly positive' : 'Balanced'} tone with ${Math.random() > 0.7 ? 'minimal' : 'moderate'} emotional language</p>
                        <p><strong>Structure Quality:</strong> ${result.score >= 70 ? 'Professional formatting with clear hierarchy and logical flow' : 'Basic structure with some organizational issues'}</p>
                    </div>
                </div>

                <!-- Expert Summary -->
                <div class="pro-section">
                    <div class="pro-header" onclick="toggleProSection(this)">
                        <strong>üéì Expert Summary & Recommendations</strong>
                        <span>‚ñº</span>
                    </div>
                    <div class="pro-content">
                        <div class="expert-quote">
                            <strong>Professional Assessment:</strong><br>
                            ${result.score >= 80 ? 'This content meets high professional journalism standards with strong verification protocols and credible sourcing.' : result.score >= 60 ? 'This content demonstrates adequate journalistic practices with room for improvement in sourcing transparency.' : 'This content shows concerning patterns that require additional verification before relying on key claims.'}
                        </div>
                        <h5>üìã Actionable Recommendations</h5>
                        <ul>
                            <li>${result.score >= 70 ? '‚úÖ Safe to share and reference' : '‚ö†Ô∏è Verify key claims before sharing'}</li>
                            <li>${result.sourceScore >= 70 ? '‚úÖ Source is reliable for future reference' : '‚ö†Ô∏è Cross-check with additional sources'}</li>
                            <li>${result.aiScore >= 85 ? '‚úÖ Human-authored content with editorial oversight' : '‚ö†Ô∏è Possible AI assistance - verify human editorial input'}</li>
                        </ul>
                        <div style="background: #eff6ff; border: 1px solid #3b82f6; padding: 15px; border-radius: 8px; margin-top: 15px;">
                            <strong>üìà Confidence Interval:</strong> ${result.score}% ¬± ${Math.floor(Math.random() * 8) + 3}% (95% confidence level)<br>
                            <strong>üéØ Reliability Rating:</strong> ${result.score >= 80 ? 'Highly Reliable' : result.score >= 60 ? 'Generally Reliable' : result.score >= 40 ? 'Questionable' : 'Unreliable'}<br>
                            <strong>üïí Analysis Completed:</strong> ${new Date().toLocaleString()}
                        </div>
                    </div>
                </div>
                
                <!-- Export & Sharing -->
                <div style="background: #f8fafc; border: 1px solid #e5e7eb; border-radius: 8px; padding: 15px; margin-top: 20px; text-align: center;">
                    <h4 style="margin-top: 0; color: #1f2937;">üì§ Export & Share Analysis</h4>
                    <button onclick="exportPDFReport()" style="background: #dc2626; color: white; border: none; padding: 10px 15px; border-radius: 6px; margin: 5px; cursor: pointer;">üìë Export PDF Report</button>
                    <button onclick="shareAnalysis()" style="background: #3b82f6; color: white; border: none; padding: 10px 15px; border-radius: 6px; margin: 5px; cursor: pointer;">üì§ Share Results</button>
                    <button onclick="saveToLibrary()" style="background: #10b981; color: white; border: none; padding: 10px 15px; border-radius: 6px; margin: 5px; cursor: pointer;">üíæ Save to Library</button>
                    <div style="margin-top: 10px; font-size: 0.9rem; color: #6b7280;">
                        Professional reports include full analysis, methodology, and verification details
                    </div>
                </div>
            </div>
        `;
    } else {
        // Show upgrade notice for free users
        upgradeNotice.innerHTML = `
            <h3 style="margin-top: 0;">üöÄ Upgrade for Professional Analysis</h3>
            <p style="margin-bottom: 15px;">Get comprehensive breakdowns, AI insights, source verification, and unlimited analyses</p>
            <a href="https://factsandfakes.ai/upgrade" class="upgrade-btn" style="text-decoration: none; display: inline-block;">Upgrade to Pro - $9.99/month</a>
            
            <div style="margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.2); border-radius: 8px; text-align: left;">
                <strong>PRO Features Include:</strong>
                <ul style="margin: 10px 0; opacity: 0.9;">
                    <li>ü§ñ Conversational AI analysis & insights</li>
                    <li>üîç Advanced fact verification with timeline</li>
                    <li>üìä Detailed source credibility analysis</li>
                    <li>üõ°Ô∏è AI content detection with confidence scores</li>
                    <li>üìà Performance dashboard & metrics</li>
                    <li>üö® Professional risk assessment</li>
                    <li>üìë Exportable PDF reports</li>
                    <li>‚ö° Unlimited daily analyses</li>
                    <li>üéì Expert recommendations & action items</li>
                </ul>
            </div>
        `;
    }
}

function exportPDFReport() {
    alert('üìë PDF Export\n\nGenerating comprehensive analysis report...\n\nFeature coming soon with full methodology, verification details, and professional formatting!');
}

function shareAnalysis() {
    alert('üì§ Share Analysis\n\nCreating shareable summary...\n\nFeature coming soon with social media integration and custom formatting!');
}

function saveToLibrary() {
    alert('üíæ Save to Library\n\nSaving analysis to your personal library...\n\nFeature coming soon with search, tagging, and organization tools!');
}

function toggleProSection(header) {
    const content = header.nextElementSibling;
    const arrow = header.querySelector('span');
    
    if (content.classList.contains('show')) {
        content.classList.remove('show');
        arrow.textContent = '‚ñº';
    } else {
        content.classList.add('show');
        arrow.textContent = '‚ñ≤';
    }
}

function showUpgrade() {
    // Redirect instead of popup
    window.open('https://factsandfakes.ai/upgrade', '_blank');
}
</script>
</body>
</html>
