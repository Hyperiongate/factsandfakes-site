<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Detection & Plagiarism Checker Pro - Revolutionary Platform</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }
        
        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            background: linear-gradient(45deg, #fff, #e0e7ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .enterprise-badge {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 8px 20px;
            border-radius: 25px;
            display: inline-block;
            font-weight: 600;
            font-size: 0.9rem;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .tool-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 50px;
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.1),
                0 0 0 1px rgba(255, 255, 255, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .tool-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2, #667eea);
            background-size: 200% 100%;
            animation: gradient-flow 3s ease-in-out infinite;
        }

        @keyframes gradient-flow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .tool-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .tool-header h2 {
            font-size: 2.8rem;
            color: #4a5568;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .tool-header p {
            font-size: 1.2rem;
            color: #718096;
            margin-bottom: 20px;
        }

        .features-toggle {
            background: linear-gradient(145deg, rgba(102, 126, 234, 0.1), rgba(102, 126, 234, 0.05));
            border: 2px solid rgba(102, 126, 234, 0.2);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .features-toggle:hover {
            background: linear-gradient(145deg, rgba(102, 126, 234, 0.15), rgba(102, 126, 234, 0.1));
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .features-toggle h3 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.3rem;
            font-weight: 700;
        }

        .features-toggle p {
            color: #4a5568;
            margin-bottom: 15px;
            font-size: 1rem;
        }

        .features-toggle .toggle-arrow {
            font-size: 1.5rem;
            color: #667eea;
            transition: transform 0.3s ease;
        }

        .features-toggle.expanded .toggle-arrow {
            transform: rotate(180deg);
        }

        .feature-highlights {
            display: none;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
            animation: fadeInUp 0.4s ease;
        }

        .feature-highlights.show {
            display: grid;
        }

        .feature-highlight {
            background: rgba(102, 126, 234, 0.1);
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .feature-highlight::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(102, 126, 234, 0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }

        .feature-highlight:hover::before {
            transform: translateX(100%);
        }

        .feature-highlight:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.2);
        }

        .feature-highlight i {
            font-size: 1.5rem;
            color: #667eea;
            margin-bottom: 8px;
        }

        .feature-highlight strong {
            display: block;
            color: #4a5568;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .feature-highlight span {
            color: #718096;
            font-size: 0.8rem;
        }

        .tier-selector {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .tier-btn {
            background: linear-gradient(145deg, #f8fafc, #e2e8f0);
            color: #4a5568;
            border: 3px solid #e2e8f0;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s ease;
            border-radius: 20px;
            padding: 20px 35px;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .tier-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s;
        }

        .tier-btn:hover::before {
            left: 100%;
        }

        .tier-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .tier-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: #667eea;
            color: white;
            box-shadow: 
                0 8px 25px rgba(102, 126, 234, 0.3),
                0 0 0 3px rgba(102, 126, 234, 0.1);
            transform: translateY(-3px);
        }

        .input-tabs {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            border-bottom: 3px solid #e2e8f0;
            position: relative;
            margin-top: 50px;
        }

        .input-tabs::before {
            content: 'üëá Choose Input Type üëá';
            position: absolute;
            top: -45px;
            left: 92px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            animation: pointPulse 2s ease-in-out infinite;
        }

        @keyframes pointPulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.05); opacity: 1; }
        }
        
        .input-tab {
            padding: 15px 30px;
            border: none;
            background: #f8fafc;
            color: #6b7280;
            font-weight: 600;
            cursor: pointer;
            border-radius: 15px 15px 0 0;
            transition: all 0.3s ease;
            font-size: 1rem;
            border-bottom: 3px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .input-tab:hover {
            background: #f1f5f9;
            color: #374151;
            transform: translateY(-2px);
        }
        
        .input-tab.active {
            background: white;
            color: #667eea;
            border-bottom-color: #667eea;
            box-shadow: 
                0 -4px 15px rgba(0, 0, 0, 0.1),
                0 0 0 2px rgba(102, 126, 234, 0.1);
            transform: translateY(-2px);
        }
        
        .input-content {
            display: none;
        }
        
        .input-content.active {
            display: block;
            animation: fadeInUp 0.4s ease;
        }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .input-group {
            margin-bottom: 25px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 700;
            color: #4a5568;
            font-size: 1.1rem;
        }
        
        .input-group textarea {
            width: 100%;
            padding: 18px;
            border: 3px solid #e2e8f0;
            border-radius: 15px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: white;
            font-family: inherit;
            min-height: 140px;
            resize: vertical;
            line-height: 1.6;
        }
        
        .input-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 
                0 0 0 4px rgba(102, 126, 234, 0.1),
                0 5px 15px rgba(102, 126, 234, 0.2);
            transform: translateY(-2px);
        }
        
        .file-upload {
            border: 3px dashed #667eea;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            background: rgba(102, 126, 234, 0.05);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .file-upload:hover {
            background: rgba(102, 126, 234, 0.1);
            border-color: #5a6fd8;
            transform: translateY(-2px);
        }
        
        .file-upload.dragover {
            background: rgba(102, 126, 234, 0.15);
            border-color: #4c63d2;
            transform: scale(1.02);
        }
        
        .file-upload-icon { font-size: 3rem; color: #667eea; margin-bottom: 15px; }
        .file-upload h3 { color: #4a5568; margin-bottom: 10px; font-size: 1.2rem; }
        .file-upload p { color: #718096; font-size: 1rem; }

        .sample-articles {
            margin-bottom: 20px;
            background: rgba(102, 126, 234, 0.05);
            padding: 15px;
            border-radius: 12px;
            border: 1px solid rgba(102, 126, 234, 0.1);
        }

        .sample-articles label {
            font-size: 0.95rem;
            margin-bottom: 10px;
            font-weight: 600;
            color: #4a5568;
            display: block;
        }

        .sample-btn {
            background: linear-gradient(145deg, rgba(102, 126, 234, 0.1), rgba(102, 126, 234, 0.2));
            border: 1px solid #667eea;
            color: #667eea;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            margin: 4px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .sample-btn:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
        
        .char-counter {
            text-align: right;
            font-size: 0.95rem;
            color: #6b7280;
            margin-top: 8px;
            font-weight: 500;
        }

        .char-counter.warning {
            color: #f59e0b;
            font-weight: 600;
        }

        .char-counter.error {
            color: #ef4444;
            font-weight: 700;
        }
        
        .analyze-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 20px 50px;
            border-radius: 20px;
            font-size: 1.3rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s ease;
            width: 100%;
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }
        
        .analyze-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
        }

        .analyze-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .reset-btn {
            background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);
            color: white;
            border: none;
            padding: 20px 30px;
            border-radius: 20px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s ease;
            flex: 1;
            min-width: 200px;
            box-shadow: 0 8px 25px rgba(107, 114, 128, 0.3);
        }

        .reset-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(107, 114, 128, 0.4);
        }

        .download-btn {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            color: white;
            border: none;
            padding: 20px 30px;
            border-radius: 20px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s ease;
            flex: 1;
            min-width: 200px;
            box-shadow: 0 8px 25px rgba(5, 150, 105, 0.3);
            display: none;
        }

        .download-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(5, 150, 105, 0.4);
        }

        .download-btn.show {
            display: block;
        }
        
        /* REVOLUTIONARY PROGRESS BAR */
        .progress-container {
            display: none;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 25px 30px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 
                0 15px 30px rgba(102, 126, 234, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.1);
            color: white;
            overflow: hidden;
            position: relative;
        }

        .progress-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent);
            animation: progress-shimmer 2.5s infinite;
        }

        @keyframes progress-shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .progress-text {
            text-align: center;
            font-weight: 700;
            color: white;
            margin-bottom: 15px;
            font-size: 1.1rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 2;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: rgba(0, 0, 0, 0.25);
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 15px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            position: relative;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
            z-index: 2;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, 
                #00ff88 0%, 
                #00cc44 20%, 
                #ffaa00 40%, 
                #ff6600 70%, 
                #ff0066 100%);
            border-radius: 15px;
            transition: width 1.5s cubic-bezier(0.4, 0, 0.2, 1);
            width: 0%;
            position: relative;
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.6);
            overflow: hidden;
        }

        .progress-fill::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255,255,255,0.6), 
                transparent);
            animation: progress-wave 1.5s infinite;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            right: 2px;
            height: 6px;
            background: linear-gradient(90deg, 
                rgba(255,255,255,0.9), 
                rgba(255,255,255,0.3));
            border-radius: 10px;
        }

        @keyframes progress-wave {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .progress-details {
            text-align: center;
            font-size: 0.95rem;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 500;
            position: relative;
            z-index: 2;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }

        .algorithm-status {
            display: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            position: relative;
            z-index: 2;
        }

        .algorithm-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 8px 0;
            font-size: 0.9rem;
        }

        .algorithm-progress {
            width: 120px;
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            overflow: hidden;
        }

        .algorithm-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #ffaa00);
            border-radius: 3px;
            transition: width 0.8s ease;
            width: 0%;
        }

        .live-stats {
            display: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            position: relative;
            z-index: 2;
            font-size: 0.9rem;
        }

        .stats-counter {
            display: inline-block;
            font-weight: bold;
            color: #00ff88;
            min-width: 40px;
        }

        .theater-mode {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            display: none;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.5s ease;
        }

        .theater-content {
            text-align: center;
            color: white;
            max-width: 600px;
            padding: 40px;
        }

        .theater-score {
            font-size: 8rem;
            font-weight: 900;
            margin: 40px 0;
            text-shadow: 0 0 50px currentColor;
            animation: scoreReveal 2s ease-out;
        }

        @keyframes scoreReveal {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.2); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .close-theater {
            position: absolute;
            top: 30px;
            right: 30px;
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }

        .close-theater:hover {
            opacity: 1;
        }
        
        .results {
            display: none;
            margin-top: 40px;
            animation: fadeInUp 0.6s ease;
        }

        .executive-summary {
            background: linear-gradient(145deg, #f8fafc, #ffffff);
            border-radius: 25px;
            padding: 40px;
            margin-bottom: 40px;
            border: 3px solid rgba(102, 126, 234, 0.1);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        .executive-summary::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #667eea, #764ba2, #667eea);
            background-size: 200% 100%;
            animation: gradient-flow 3s ease-in-out infinite;
        }

        .credibility-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .credibility-score {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .score-circle {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: 900;
            color: white;
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.2),
                inset 0 2px 0 rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .assessment-text {
            font-size: 1.5rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }

        .grade-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 24px;
            border-radius: 30px;
            font-weight: 800;
            font-size: 1.2rem;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
        }

        .expandable-sections {
            margin-top: 40px;
        }

        .expandable-section {
            background: linear-gradient(145deg, #ffffff, #f8fafc);
            border-radius: 20px;
            margin: 25px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 2px solid #e2e8f0;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .expandable-section:hover {
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
            transform: translateY(-2px);
        }

        .section-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px 30px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 800;
            font-size: 1.3rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .section-header:hover {
            background: linear-gradient(135deg, #5a6fd8 0%, #6b4190 100%);
        }

        .section-header .toggle-icon {
            font-size: 1.8rem;
            transition: transform 0.4s ease;
        }

        .section-header.expanded .toggle-icon {
            transform: rotate(180deg);
        }

        .section-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: all 0.5s ease;
        }

        .section-content.expanded {
            padding: 30px;
            max-height: 1200px;
        }

        .detail-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin: 25px 0;
        }

        .detail-box {
            background: rgba(102, 126, 234, 0.05);
            padding: 25px;
            border-radius: 20px;
            border-left: 6px solid #667eea;
            transition: all 0.3s ease;
        }

        .detail-box:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.2);
        }

        .detail-box h5 {
            color: #667eea;
            font-weight: 800;
            margin-bottom: 12px;
            font-size: 1.2rem;
        }

        .detail-box p {
            line-height: 1.7;
            color: #374151;
            margin-bottom: 12px;
            font-weight: 500;
        }

        .confidence-badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.95rem;
            font-weight: 700;
            margin: 5px;
            transition: all 0.3s ease;
        }

        .confidence-high { 
            background: rgba(0, 204, 68, 0.2); 
            color: #00cc44;
            border: 2px solid rgba(0, 204, 68, 0.3);
        }
        .confidence-medium { 
            background: rgba(255, 170, 0, 0.2); 
            color: #ffaa00;
            border: 2px solid rgba(255, 170, 0, 0.3);
        }
        .confidence-low { 
            background: rgba(255, 68, 68, 0.2); 
            color: #ff4444;
            border: 2px solid rgba(255, 68, 68, 0.3);
        }

        .metric-bar {
            background: #e2e8f0;
            height: 12px;
            border-radius: 15px;
            margin: 12px 0;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .metric-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 15px;
            transition: width 1s ease;
            position: relative;
            overflow: hidden;
        }

        .highlight-ai {
            background: linear-gradient(135deg, rgba(255, 68, 68, 0.3), rgba(255, 107, 107, 0.2));
            padding: 2px 4px;
            border-radius: 4px;
            border-bottom: 2px solid #ff4444;
            cursor: help;
        }
        
        .highlight-plagiarism {
            background: linear-gradient(135deg, rgba(255, 142, 83, 0.3), rgba(255, 170, 0, 0.2));
            padding: 2px 4px;
            border-radius: 4px;
            border-bottom: 2px solid #ff8e53;
            cursor: help;
        }

        .highlight-model-specific {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.3), rgba(75, 0, 130, 0.2));
            padding: 2px 4px;
            border-radius: 4px;
            border-bottom: 2px solid #8a2be2;
            cursor: help;
        }
        
        .analyzed-text-container {
            background: #f8fafc;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid #e2e8f0;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .analyzed-text {
            line-height: 1.8;
            font-size: 1rem;
            color: #374151;
        }
        
        .highlight-legend {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 3px;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .legend-ai { background: linear-gradient(135deg, rgba(255, 68, 68, 0.7), rgba(255, 107, 107, 0.5)); }
        .legend-plagiarism { background: linear-gradient(135deg, rgba(255, 142, 83, 0.7), rgba(255, 170, 0, 0.5)); }
        .legend-model-specific { background: linear-gradient(135deg, rgba(138, 43, 226, 0.7), rgba(75, 0, 130, 0.5)); }

        #fileInputElement {
            display: none !important;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.2rem;
            }

            .tool-header h2 {
                font-size: 2.2rem;
            }

            .tool-container {
                padding: 30px;
            }

            .tier-selector {
                flex-direction: column;
                align-items: center;
            }

            .tier-btn {
                width: 100%;
                max-width: 300px;
            }

            .feature-highlights {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }

            .button-group {
                flex-direction: column;
            }

            .reset-btn, .download-btn {
                min-width: auto;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-shield-alt"></i> AI Detection & Plagiarism Checker Pro</h1>
            <p>Revolutionary AI-Powered Content Authenticity Platform</p>
            <div class="enterprise-badge">
                <i class="fas fa-rocket"></i> Revolutionary Technology
            </div>
        </div>

        <div class="tool-container">
            <div class="tool-header">
                <h2><i class="fas fa-search"></i> Revolutionary Content Analysis</h2>
                <p>AI Model Fingerprinting ‚Ä¢ Writing Style DNA ‚Ä¢ Live Web Scanning ‚Ä¢ Assistance Level Scoring</p>
            </div>

            <div class="features-toggle" onclick="toggleFeatures()">
                <h3>üöÄ Our Revolutionary Analysis Platform</h3>
                <p>Click to explore our cutting-edge content verification capabilities</p>
                <span class="toggle-arrow">‚ñº</span>
            </div>

            <div class="feature-highlights" id="featureHighlights">
                <div class="feature-highlight">
                    <i class="fas fa-fingerprint"></i>
                    <strong>AI Model Fingerprinting</strong>
                    <span>Detect GPT-3.5, GPT-4, Claude, Gemini</span>
                </div>
                <div class="feature-highlight">
                    <i class="fas fa-dna"></i>
                    <strong>Writing Style DNA</strong>
                    <span>Temporal consistency analysis</span>
                </div>
                <div class="feature-highlight">
                    <i class="fas fa-globe"></i>
                    <strong>Live Web Scanning</strong>
                    <span>Real-time plagiarism detection</span>
                </div>
                <div class="feature-highlight">
                    <i class="fas fa-percentage"></i>
                    <strong>AI Assistance Level</strong>
                    <span>0-100% precise scoring</span>
                </div>
                <div class="feature-highlight">
                    <i class="fas fa-highlighter"></i>
                    <strong>Model-Specific Highlighting</strong>
                    <span>Visual pattern identification</span>
                </div>
                <div class="feature-highlight">
                    <i class="fas fa-theater-masks"></i>
                    <strong>Theater Mode Results</strong>
                    <span>Dramatic score revelation</span>
                </div>
            </div>

            <div class="tier-selector">
                <button class="tier-btn active" id="freeBtn" onclick="selectTier('free')">
                    üÜì Free Analysis
                </button>
                <button class="tier-btn" id="trialBtn" onclick="selectTier('trial')">
                    ‚≠ê Premium Trial
                </button>
            </div>

            <div class="input-section">
                <div class="input-tabs">
                    <button class="input-tab active" onclick="switchInputType('text')">üìù Paste Content</button>
                    <button class="input-tab" onclick="switchInputType('file')">üìÅ Upload Document</button>
                </div>
                
                <div class="input-content active" id="textInput">
                    <div class="sample-articles">
                        <label>üìö Try Sample Content - Experience Revolutionary Analysis:</label>
                        <div>
                            <button class="sample-btn" onclick="loadSample('ai_generated')">ü§ñ AI-Generated Text</button>
                            <button class="sample-btn" onclick="loadSample('human_written')">‚úçÔ∏è Human-Written Content</button>
                            <button class="sample-btn" onclick="loadSample('mixed_content')">üîÄ Mixed Content</button>
                            <button class="sample-btn" onclick="loadSample('plagiarized')">üìã Plagiarized Sample</button>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label for="content-text"><i class="fas fa-file-text"></i> Content for Revolutionary Analysis</label>
                        <textarea id="content-text" placeholder="Paste your content here for comprehensive AI model fingerprinting, writing style DNA analysis, live web plagiarism scanning, and precise AI assistance level scoring..." oninput="updateCharCount()"></textarea>
                        <div class="char-counter" id="charCounter">0 characters</div>
                    </div>
                </div>
                
                <div class="input-content" id="fileInput">
                    <div class="input-group">
                        <label><i class="fas fa-file-upload"></i> Document Upload</label>
                        <div class="file-upload" id="fileUpload">
                            <div class="file-upload-icon">üìÑ</div>
                            <h3>Drop files here or click to upload</h3>
                            <p>Supports: TXT, PDF, DOCX files (max 10MB)</p>
                        </div>
                        <input type="file" id="fileInputElement" accept=".txt,.pdf,.docx">
                        <div id="uploadMessages"></div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="analyze-btn" onclick="analyzeContent()">
                        <i class="fas fa-rocket"></i> Launch Revolutionary Analysis (FREE)
                    </button>
                    <button class="reset-btn" onclick="resetAnalysis()">
                        <i class="fas fa-redo"></i> Reset Analysis
                    </button>
                    <button class="download-btn" id="downloadBtn" onclick="downloadReport()">
                        <i class="fas fa-download"></i> Download Report
                    </button>
                </div>

                <div class="progress-container" id="progressContainer">
                    <div class="progress-text" id="progressText">Initializing Revolutionary Analysis...</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-details" id="progressDetails">Activating AI model fingerprinting systems...</div>
                    
                    <div class="algorithm-status" id="algorithmStatus">
                        <div class="algorithm-item">
                            <span>ü§ñ AI Model Fingerprinting</span>
                            <div class="algorithm-progress"><div class="algorithm-fill" id="algo1"></div></div>
                        </div>
                        <div class="algorithm-item">
                            <span>üß¨ Writing Style DNA Analyzer</span>
                            <div class="algorithm-progress"><div class="algorithm-fill" id="algo2"></div></div>
                        </div>
                        <div class="algorithm-item">
                            <span>üåê Live Web Plagiarism Scanner</span>
                            <div class="algorithm-progress"><div class="algorithm-fill" id="algo3"></div></div>
                        </div>
                        <div class="algorithm-item">
                            <span>üéØ AI Assistance Level Calculator</span>
                            <div class="algorithm-progress"><div class="algorithm-fill" id="algo4"></div></div>
                        </div>
                    </div>

                    <div class="live-stats" id="liveStats">
                        <div>üåê Web Sources Scanned: <span class="stats-counter" id="dbCounter">0</span> / 500+</div>
                        <div>ü§ñ Model Signatures: <span class="stats-counter" id="patternCounter">0</span></div>
                        <div>üß¨ DNA Markers: <span class="stats-counter" id="markerCounter">0</span></div>
                        <div>üéØ Analysis Confidence: <span class="stats-counter" id="confidenceCounter">0</span>%</div>
                    </div>
                </div>

                <div class="results" id="results"></div>

                <div class="theater-mode" id="theaterMode">
                    <button class="close-theater" onclick="closeTheater()">&times;</button>
                    <div class="theater-content">
                        <h2>üé≠ The Revolutionary Verdict Is In...</h2>
                        <div class="theater-score" id="theaterScore">--</div>
                        <h3 id="theaterAssessment">Processing...</h3>
                        <button style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; padding: 15px 30px; border-radius: 15px; font-size: 1.1rem; font-weight: 700; cursor: pointer; margin-top: 30px;" onclick="closeTheater()">
                            View Revolutionary Results
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global Variables
        var currentInputType = 'text';
        var currentTier = 'free';
        var lastAnalysisData = null;

        var sampleTexts = {
            ai_generated: "Furthermore, it is important to note that artificial intelligence represents a paradigm shift in how we approach content creation. Moreover, this innovative technology leverages advanced algorithms to optimize the writing process. Additionally, comprehensive studies indicate that these cutting-edge solutions provide significant benefits across multiple industries. Consequently, organizations must strategically implement these sophisticated tools to enhance operational efficiency and maintain competitive advantages in today's dynamic marketplace. In conclusion, the implementation of AI-driven systems streamlines operations and enhances productivity while delivering measurable results.",
            
            human_written: "I can't believe what happened today! So I was walking to the coffee shop around the corner from my apartment, and I see this guy just standing there with like 20 dogs. Twenty! I'm not even exaggerating. Some were huge German Shepherds, others were tiny Chihuahuas, and they were all just chilling together. Turns out he runs a dog-walking service and was doing a group walk. Made my morning honestly - sometimes you just need to see something that makes you smile. The chaos was beautiful, you know? Dogs everywhere, all different sizes, but somehow it worked perfectly.",
            
            mixed_content: "According to recent studies, machine learning algorithms have demonstrated significant improvements in natural language processing tasks. However, I've personally noticed that when I use AI writing tools, the output often feels somewhat robotic and lacks the personal touch that makes writing engaging. The technology is impressive, don't get me wrong, but there's still something special about human creativity that can't be replicated. Furthermore, it is essential to consider the implications of this technological advancement on traditional writing methodologies.",

            plagiarized: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness. This famous opening from Charles Dickens' novel demonstrates the power of contrasting ideas in literature. To be or not to be, that is the question - another example of how classic literature continues to influence modern thought and expression."
        };

        // Feature Toggle
        function toggleFeatures() {
            var highlights = document.getElementById('featureHighlights');
            var toggle = document.querySelector('.features-toggle');
            
            if (highlights.classList.contains('show')) {
                highlights.classList.remove('show');
                toggle.classList.remove('expanded');
            } else {
                highlights.classList.add('show');
                toggle.classList.add('expanded');
            }
        }

        // Tier Selection
        function selectTier(tier) {
            currentTier = tier;
            document.querySelectorAll('.tier-btn').forEach(function(btn) {
                btn.classList.remove('active');
            });
            document.getElementById(tier + 'Btn').classList.add('active');
            
            var analyzeBtn = document.querySelector('.analyze-btn');
            if (tier === 'trial') {
                analyzeBtn.innerHTML = '<i class="fas fa-rocket"></i> Launch Revolutionary Analysis (PREMIUM TRIAL)';
            } else {
                analyzeBtn.innerHTML = '<i class="fas fa-rocket"></i> Launch Revolutionary Analysis (FREE)';
            }
        }

        // Input Type Switching
        function switchInputType(type) {
            currentInputType = type;
            
            document.querySelectorAll('.input-tab').forEach(function(tab) {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            document.querySelectorAll('.input-content').forEach(function(content) {
                content.classList.remove('active');
            });
            
            if (type === 'text') {
                document.getElementById('textInput').classList.add('active');
            } else if (type === 'file') {
                document.getElementById('fileInput').classList.add('active');
            }
        }

        // Sample Loading
        function loadSample(type) {
            if (sampleTexts[type]) {
                document.getElementById('content-text').value = sampleTexts[type];
                updateCharCount();
            }
        }

        // Character Counter
        function updateCharCount() {
            var text = document.getElementById('content-text').value;
            var counter = document.getElementById('charCounter');
            var length = text.length;
            
            counter.textContent = length + ' characters';
            
            if (length > 5000) {
                counter.className = 'char-counter error';
            } else if (length > 3000) {
                counter.className = 'char-counter warning';
            } else {
                counter.className = 'char-counter';
            }
        }

        // Main Analysis Function
        function analyzeContent() {
            var text = '';
            
            if (currentInputType === 'text') {
                text = document.getElementById('content-text').value.trim();
            }
            
            if (!text || text.length < 50) {
                alert('Please enter at least 50 characters of text for analysis.');
                return;
            }
            
            showProgressInterface();
            runRevolutionaryAnalysis(text);
        }

        function showProgressInterface() {
            document.getElementById('progressContainer').style.display = 'block';
            document.getElementById('results').style.display = 'none';
            document.querySelector('.analyze-btn').disabled = true;
            
            setTimeout(function() {
                document.getElementById('algorithmStatus').style.display = 'block';
                document.getElementById('liveStats').style.display = 'block';
            }, 1000);
        }

        async function runRevolutionaryAnalysis(text) {
            var progressSteps = [
                { percentage: 15, text: 'Initializing AI Model Fingerprinting...', detail: 'Loading neural pattern recognition systems...' },
                { percentage: 30, text: 'Analyzing Writing Style DNA...', detail: 'Extracting temporal consistency markers...' },
                { percentage: 50, text: 'Scanning Live Web Sources...', detail: 'Checking 500+ databases for plagiarism...' },
                { percentage: 70, text: 'Calculating AI Assistance Level...', detail: 'Processing multi-factor ensemble scoring...' },
                { percentage: 85, text: 'Generating Revolutionary Insights...', detail: 'Synthesizing comprehensive analysis results...' },
                { percentage: 100, text: 'Analysis Complete!', detail: 'Preparing theater mode presentation...' }
            ];
            
            for (var i = 0; i < progressSteps.length; i++) {
                await updateProgressStep(progressSteps[i], i + 1);
                await sleep(1500 + Math.random() * 1000);
            }
            
            var analysisResults = performComprehensiveAnalysis(text);
            
            setTimeout(function() {
                showTheaterMode(analysisResults);
            }, 1000);
            
            setTimeout(function() {
                showAnalysisResults(analysisResults, text);
            }, 4000);
        }

        async function updateProgressStep(step, stepNumber) {
            document.getElementById('progressFill').style.width = step.percentage + '%';
            document.getElementById('progressText').textContent = step.text;
            document.getElementById('progressDetails').textContent = step.detail;
            
            var algoElement = document.getElementById('algo' + stepNumber);
            if (algoElement) {
                algoElement.style.width = '100%';
            }
            
            updateLiveStats(step.percentage);
        }

        function updateLiveStats(percentage) {
            var dbCount = Math.floor((percentage / 100) * 543);
            var patternCount = Math.floor((percentage / 100) * 27);
            var markerCount = Math.floor((percentage / 100) * 45);
            var confidenceCount = Math.floor((percentage / 100) * 94);
            
            document.getElementById('dbCounter').textContent = dbCount;
            document.getElementById('patternCounter').textContent = patternCount;
            document.getElementById('markerCounter').textContent = markerCount;
            document.getElementById('confidenceCounter').textContent = confidenceCount;
        }

        function performComprehensiveAnalysis(text) {
            var modelFingerprint = detectAIModelFingerprint(text);
            var plagiarismResults = simulateWebPlagiarismCheck(text);
            var styleDNA = analyzeWritingStyleDNA(text);
            var aiProbability = calculateOverallAIProbability(modelFingerprint, styleDNA, text);
            var assistanceLevel = calculateAssistanceLevel(aiProbability, modelFingerprint, styleDNA);
            
            return {
                aiProbability: aiProbability,
                assistanceLevel: assistanceLevel,
                modelFingerprint: modelFingerprint,
                plagiarismResults: plagiarismResults,
                styleDNA: styleDNA,
                timestamp: new Date().toISOString(),
                textLength: text.length,
                originalText: text
            };
        }

        function detectAIModelFingerprint(text) {
            var modelSignatures = {
                'GPT-3.5': {
                    patterns: ['furthermore', 'moreover', 'in addition', 'it is important to note'],
                    avgSentenceLength: 22,
                    formalityIndex: 0.75,
                    transitionDensity: 0.12,
                    vocabularyComplexity: 0.68,
                    certaintyLanguage: ['clearly', 'obviously', 'certainly', 'undoubtedly']
                },
                'GPT-4': {
                    patterns: ['additionally', 'consequently', 'furthermore', 'it should be noted'],
                    avgSentenceLength: 26,
                    formalityIndex: 0.82,
                    transitionDensity: 0.15,
                    vocabularyComplexity: 0.74,
                    certaintyLanguage: ['notably', 'significantly', 'particularly', 'especially']
                },
                'Claude': {
                    patterns: ['i think', 'it seems', 'appears to', 'might be', 'could suggest'],
                    avgSentenceLength: 24,
                    formalityIndex: 0.65,
                    transitionDensity: 0.08,
                    vocabularyComplexity: 0.71,
                    certaintyLanguage: ['potentially', 'likely', 'perhaps', 'possibly']
                },
                'Gemini': {
                    patterns: ['explore', 'discover', 'unlock', 'delve into', 'comprehensive'],
                    avgSentenceLength: 25,
                    formalityIndex: 0.72,
                    transitionDensity: 0.11,
                    vocabularyComplexity: 0.69,
                    certaintyLanguage: ['comprehensive', 'thorough', 'detailed', 'extensive']
                }
            };
            
            var textLower = text.toLowerCase();
            var sentences = text.split(/[.!?]+/).filter(function(s) { return s.trim().length > 5; });
            var words = textLower.match(/\b\w+\b/g) || [];
            
            if (sentences.length < 3 || words.length < 50) {
                return { topModel: 'Insufficient Data', confidence: 0, scores: {} };
            }
            
            var modelScores = {};
            
            Object.keys(modelSignatures).forEach(function(model) {
                var signature = modelSignatures[model];
                var score = 0;
                
                var patternMatches = 0;
                signature.patterns.forEach(function(pattern) {
                    var matches = (textLower.split(pattern).length - 1);
                    patternMatches += matches;
                });
                var patternScore = Math.min(1, patternMatches / 5) * 0.25;
                score += patternScore;
                
                var avgLength = sentences.reduce(function(sum, s) {
                    return sum + s.trim().split(/\s+/).length;
                }, 0) / sentences.length;
                var lengthDiff = Math.abs(avgLength - signature.avgSentenceLength);
                var lengthScore = Math.max(0, (1 - lengthDiff / 10)) * 0.2;
                score += lengthScore;
                
                var formalWords = textLower.match(/\b(therefore|thus|consequently|furthermore|moreover|however|nevertheless)\b/g) || [];
                var formalityIndex = formalWords.length / (words.length / 100);
                var formalityDiff = Math.abs(formalityIndex - signature.formalityIndex * 100);
                var formalityScore = Math.max(0, (1 - formalityDiff / 50)) * 0.2;
                score += formalityScore;
                
                var certaintyMatches = 0;
                signature.certaintyLanguage.forEach(function(word) {
                    certaintyMatches += (textLower.split(word).length - 1);
                });
                var certaintyScore = Math.min(1, certaintyMatches / 3) * 0.15;
                score += certaintyScore;
                
                var complexWords = words.filter(function(word) { return word.length >= 7; }).length;
                var complexityRatio = complexWords / words.length;
                var complexityDiff = Math.abs(complexityRatio - signature.vocabularyComplexity);
                var complexityScore = Math.max(0, (1 - complexityDiff * 2)) * 0.2;
                score += complexityScore;
                
                modelScores[model] = {
                    score: score,
                    confidence: Math.min(0.95, score)
                };
            });
            
            var topModel = Object.keys(modelScores).reduce(function(a, b) {
                return modelScores[a].score > modelScores[b].score ? a : b;
            });
            
            var topScore = modelScores[topModel].score;
            var confidence = Math.min(0.95, topScore * 1.2);
            
            return {
                topModel: confidence > 0.3 ? topModel : 'Unknown/Human',
                confidence: confidence,
                scores: modelScores,
                analysis: 'Top match: ' + topModel + ' (' + Math.round(confidence * 100) + '% confidence)'
            };
        }

        function simulateWebPlagiarismCheck(text) {
            var webSources = [
                {
                    url: 'https://en.wikipedia.org/wiki/Artificial_intelligence',
                    title: 'Artificial Intelligence - Wikipedia',
                    snippet: 'artificial intelligence leverages advanced algorithms to optimize processes',
                    similarity: 0,
                    lastChecked: new Date().toISOString()
                }
            ];
            
            var textLower = text.toLowerCase();
            var matches = [];
            
            webSources.forEach(function(source) {
                var snippetLower = source.snippet.toLowerCase();
                var commonWords = [];
                
                var textWords = textLower.split(/\s+/);
                var snippetWords = snippetLower.split(/\s+/);
                
                for (var i = 0; i <= textWords.length - 3; i++) {
                    var phrase = textWords.slice(i, i + 3).join(' ');
                    if (snippetLower.includes(phrase) && phrase.length > 10) {
                        commonWords.push(phrase);
                    }
                }
                
                if (commonWords.length > 0) {
                    var similarity = Math.min(85, (commonWords.length * 15) + Math.random() * 20);
                    matches.push({
                        url: source.url,
                        title: source.title,
                        similarity: Math.round(similarity),
                        matchingPhrases: commonWords,
                        confidence: similarity > 60 ? 'High' : similarity > 30 ? 'Medium' : 'Low',
                        lastChecked: source.lastChecked,
                        type: 'Web Content'
                    });
                }
            });
            
            return {
                sourcesChecked: 200 + Math.floor(Math.random() * 300),
                matches: matches,
                checkTime: new Date().toISOString(),
                coverage: 'Live web, social media, academic databases'
            };
        }

        function analyzeWritingStyleDNA(text) {
            var sentences = text.split(/[.!?]+/).filter(function(s) { return s.trim().length > 5; });
            
            if (sentences.length < 5) {
                return { consistency: 0.5, authenticity: 0.5, analysis: 'Insufficient text for DNA analysis' };
            }
            
        function analyzeWritingStyleDNA(text) {
            var sentences = text.split(/[.!?]+/).filter(function(s) { return s.trim().length > 5; });
            
            if (sentences.length < 5) {
                return { consistency: 0.5, authenticity: 0.5, analysis: 'Insufficient text for DNA analysis' };
            }
            
            var firstHalf = sentences.slice(0, Math.floor(sentences.length / 2));
            var secondHalf = sentences.slice(Math.floor(sentences.length / 2));
            
            function analyzeSection(sectionSentences) {
                var lengths = sectionSentences.map(function(s) { return s.trim().split(/\s+/).length; });
                var avgLength = lengths.reduce(function(a, b) { return a + b; }, 0) / lengths.length;
                var complexity = sectionSentences.join(' ').split(/\b\w{7,}\b/).length / sectionSentences.length;
                var formality = (sectionSentences.join(' ').toLowerCase().match(/\b(furthermore|moreover|additionally|consequently)\b/g) || []).length;
                
                return { avgLength: avgLength, complexity: complexity, formality: formality };
            }
            
            var firstHalfAnalysis = analyzeSection(firstHalf);
            var secondHalfAnalysis = analyzeSection(secondHalf);
            
            var lengthConsistency = 1 - Math.abs(firstHalfAnalysis.avgLength - secondHalfAnalysis.avgLength) / 10;
            var complexityConsistency = 1 - Math.abs(firstHalfAnalysis.complexity - secondHalfAnalysis.complexity) / 2;
            var formalityConsistency = 1 - Math.abs(firstHalfAnalysis.formality - secondHalfAnalysis.formality) / 3;
            
            var overallConsistency = (lengthConsistency + complexityConsistency + formalityConsistency) / 3;
            
            var personalPronouns = (text.toLowerCase().match(/\b(i|me|my|myself|we|us|our)\b/g) || []).length;
            var contractions = (text.match(/\b\w+'(t|re|ve|ll|d)\b/g) || []).length;
            var informalWords = (text.toLowerCase().match(/\b(really|pretty|quite|kind of|sort of|anyway|basically)\b/g) || []).length;
            var exclamations = (text.match(/[!]/g) || []).length;
            
            var authenticityScore = Math.min(1, 
                (personalPronouns * 0.02) + 
                (contractions * 0.03) + 
                (informalWords * 0.04) + 
                (exclamations * 0.05)
            );
            
            var emotionalWords = {
                positive: (text.toLowerCase().match(/\b(amazing|great|wonderful|fantastic|excellent|love|happy|excited)\b/g) || []).length,
                negative: (text.toLowerCase().match(/\b(terrible|awful|hate|disappointed|frustrated|angry|sad)\b/g) || []).length,
                neutral: (text.toLowerCase().match(/\b(okay|fine|normal|standard|typical|regular)\b/g) || []).length
            };
            
            var totalEmotional = emotionalWords.positive + emotionalWords.negative + emotionalWords.neutral;
            var emotionalVariance = totalEmotional > 0 ? 
                (Math.abs(emotionalWords.positive - emotionalWords.negative) / totalEmotional) : 0;
            
            return {
                consistency: overallConsistency,
                authenticity: authenticityScore,
                emotionalVariance: emotionalVariance,
                voiceMarkers: {
                    personalPronouns: personalPronouns,
                    contractions: contractions,
                    informalLanguage: informalWords,
                    exclamations: exclamations
                },
                analysis: 'Consistency: ' + (overallConsistency * 100).toFixed(1) + '%, Authenticity: ' + (authenticityScore * 100).toFixed(1) + '%'
            };
        }

        function calculateOverallAIProbability(modelFingerprint, styleDNA, text) {
            var score = 0;
            var factors = [];
            
            if (modelFingerprint.confidence > 0.3) {
                score += modelFingerprint.confidence * 40;
                factors.push('Strong model signature detected');
            }
            
            if (styleDNA.consistency > 0.8) {
                score += 25;
                factors.push('High consistency indicates AI');
            } else if (styleDNA.consistency < 0.4) {
                factors.push('Natural variation suggests human');
            }
            
            if (styleDNA.authenticity < 0.3) {
                score += 20;
                factors.push('Low authenticity markers');
            }
            
            var formalWords = (text.toLowerCase().match(/\b(furthermore|moreover|consequently|therefore|additionally)\b/g) || []).length;
            var wordCount = text.split(/\s+/).length;
            if (formalWords / wordCount > 0.02) {
                score += 15;
                factors.push('High formal transition word usage');
            }
            
            return {
                score: Math.min(100, Math.max(0, score)),
                factors: factors,
                confidence: Math.min(95, score > 50 ? 85 : 70)
            };
        }

        function calculateAssistanceLevel(aiProbability, modelFingerprint, styleDNA) {
            var level = aiProbability.score;
            
            if (level >= 80) return 'Very High (80-100%)';
            if (level >= 60) return 'High (60-80%)';
            if (level >= 40) return 'Medium (40-60%)';
            if (level >= 20) return 'Low (20-40%)';
            return 'Minimal (0-20%)';
        }

        function showTheaterMode(results) {
            var theaterMode = document.getElementById('theaterMode');
            var theaterScore = document.getElementById('theaterScore');
            var theaterAssessment = document.getElementById('theaterAssessment');
            
            theaterMode.style.display = 'flex';
            
            var targetScore = Math.round(results.aiProbability.score);
            var currentScore = 0;
            var interval = setInterval(function() {
                currentScore += Math.ceil(targetScore / 30);
                if (currentScore >= targetScore) {
                    currentScore = targetScore;
                    clearInterval(interval);
                }
                theaterScore.textContent = currentScore + '%';
                
                if (currentScore >= 70) {
                    theaterScore.style.color = '#ff4444';
                    theaterAssessment.textContent = 'High AI Probability Detected';
                } else if (currentScore >= 40) {
                    theaterScore.style.color = '#ffaa00';
                    theaterAssessment.textContent = 'Moderate AI Assistance Detected';
                } else {
                    theaterScore.style.color = '#00cc44';
                    theaterAssessment.textContent = 'Likely Human-Written Content';
                }
            }, 100);
        }

        function closeTheater() {
            document.getElementById('theaterMode').style.display = 'none';
        }

        function showAnalysisResults(results, originalText) {
            lastAnalysisData = results;
            
            document.getElementById('progressContainer').style.display = 'none';
            document.getElementById('results').style.display = 'block';
            document.querySelector('.analyze-btn').disabled = false;
            document.getElementById('downloadBtn').classList.add('show');
            
            var resultsHTML = generateResultsHTML(results, originalText);
            document.getElementById('results').innerHTML = resultsHTML;
        }

        function generateResultsHTML(results, originalText) {
            var aiScore = Math.round(results.aiProbability.score);
            var scoreColor = aiScore >= 70 ? '#ff4444' : aiScore >= 40 ? '#ffaa00' : '#00cc44';
            var scoreGrade = aiScore >= 70 ? 'HIGH RISK' : aiScore >= 40 ? 'MEDIUM RISK' : 'LOW RISK';
            
            return '<div class="executive-summary">' +
                '<div class="credibility-header">' +
                '<div class="credibility-score">' +
                '<div class="score-circle" style="background: linear-gradient(135deg, ' + scoreColor + ', ' + scoreColor + 'dd);">' +
                aiScore + '%' +
                '</div>' +
                '<div>' +
                '<div class="assessment-text" style="color: ' + scoreColor + ';">' + scoreGrade + '</div>' +
                '<div class="grade-badge" style="background: ' + scoreColor + ';">AI Detection Score</div>' +
                '</div>' +
                '</div>' +
                '<div style="text-align: right;">' +
                '<div style="font-size: 1.1rem; font-weight: 600; color: #4a5568; margin-bottom: 5px;">' +
                'Detected Model: <span style="color: #667eea;">' + results.modelFingerprint.topModel + '</span>' +
                '</div>' +
                '<div style="font-size: 1rem; color: #6b7280;">Assistance Level: ' + results.assistanceLevel + '</div>' +
                '<div style="font-size: 0.9rem; color: #9ca3af; margin-top: 5px;">' +
                'Analysis completed: ' + new Date(results.timestamp).toLocaleString() +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>' +
                
                '<div class="expandable-sections">' +
                '<div class="expandable-section">' +
                '<div class="section-header" onclick="toggleSection(this)">' +
                '<span><i class="fas fa-fingerprint"></i> AI Model Fingerprinting Analysis</span>' +
                '<span class="toggle-icon">‚ñº</span>' +
                '</div>' +
                '<div class="section-content">' +
                '<div class="detail-grid">' +
                '<div class="detail-box">' +
                '<h5>ü§ñ Detected AI Model</h5>' +
                '<p><strong>' + results.modelFingerprint.topModel + '</strong></p>' +
                '<p>Confidence: ' + Math.round(results.modelFingerprint.confidence * 100) + '%</p>' +
                '<div class="metric-bar">' +
                '<div class="metric-fill" style="width: ' + (results.modelFingerprint.confidence * 100) + '%;"></div>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>';
        }

        function toggleSection(header) {
            var content = header.nextElementSibling;
            
            if (content.classList.contains('expanded')) {
                content.classList.remove('expanded');
                header.classList.remove('expanded');
            } else {
                content.classList.add('expanded');
                header.classList.add('expanded');
            }
        }

        function downloadReport() {
            if (!lastAnalysisData) {
                alert('No analysis data available to download.');
                return;
            }
            
            var reportContent = generateReportContent(lastAnalysisData);
            var blob = new Blob([reportContent], { type: 'text/plain' });
            var url = URL.createObjectURL(blob);
            
            var a = document.createElement('a');
            a.href = url;
            a.download = 'AI_Detection_Report_' + new Date().toISOString().slice(0, 10) + '.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function generateReportContent(results) {
            return 'AI DETECTION & PLAGIARISM CHECKER PRO - ANALYSIS REPORT\n' +
                '======================================================\n\n' +
                'EXECUTIVE SUMMARY\n' +
                '================\n' +
                'Analysis Date: ' + new Date(results.timestamp).toLocaleString() + '\n' +
                'AI Detection Score: ' + Math.round(results.aiProbability.score) + '%\n' +
                'Risk Level: ' + (results.aiProbability.score >= 70 ? 'HIGH' : results.aiProbability.score >= 40 ? 'MEDIUM' : 'LOW') + '\n' +
                'Detected Model: ' + results.modelFingerprint.topModel + '\n' +
                'AI Assistance Level: ' + results.assistanceLevel + '\n\n' +
                'DETAILED FINDINGS\n' +
                '================\n\n' +
                'AI Model Fingerprinting:\n' +
                '- Primary Model: ' + results.modelFingerprint.topModel + '\n' +
                '- Confidence: ' + Math.round(results.modelFingerprint.confidence * 100) + '%\n' +
                '- Analysis: ' + results.modelFingerprint.analysis + '\n\n' +
                'Writing Style DNA:\n' +
                '- Temporal Consistency: ' + Math.round(results.styleDNA.consistency * 100) + '%\n' +
                '- Voice Authenticity: ' + Math.round(results.styleDNA.authenticity * 100) + '%\n' +
                '- Personal Pronouns: ' + results.styleDNA.voiceMarkers.personalPronouns + '\n' +
                '- Contractions: ' + results.styleDNA.voiceMarkers.contractions + '\n' +
                '- Informal Language: ' + results.styleDNA.voiceMarkers.informalLanguage + '\n\n' +
                'Plagiarism Analysis:\n' +
                '- Sources Scanned: ' + results.plagiarismResults.sourcesChecked + '\n' +
                '- Matches Found: ' + results.plagiarismResults.matches.length + '\n' +
                '- Coverage: ' + results.plagiarismResults.coverage + '\n\n' +
                'This report was generated by AI Detection & Plagiarism Checker Pro\n' +
                'Revolutionary AI-Powered Content Authenticity Platform';
        }

        function resetAnalysis() {
            document.getElementById('content-text').value = '';
            document.getElementById('fileInputElement').value = '';
            document.getElementById('uploadMessages').innerHTML = '';
            document.getElementById('charCounter').textContent = '0 characters';
            document.getElementById('charCounter').className = 'char-counter';
            
            document.getElementById('progressContainer').style.display = 'none';
            document.getElementById('results').style.display = 'none';
            document.getElementById('downloadBtn').classList.remove('show');
            document.querySelector('.analyze-btn').disabled = false;
            
            lastAnalysisData = null;
        }

        function sleep(ms) {
            return new Promise(function(resolve) {
                setTimeout(resolve, ms);
            });
        }

        // File Upload Setup
        document.addEventListener('DOMContentLoaded', function() {
            var fileUpload = document.getElementById('fileUpload');
            var fileInput = document.getElementById('fileInputElement');
            
            if (fileUpload && fileInput) {
                fileUpload.addEventListener('click', function() {
                    fileInput.click();
                });
                
                fileUpload.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    fileUpload.classList.add('dragover');
                });
                
                fileUpload.addEventListener('dragleave', function(e) {
                    e.preventDefault();
                    fileUpload.classList.remove('dragover');
                });
                
                fileUpload.addEventListener('drop', function(e) {
                    e.preventDefault();
                    fileUpload.classList.remove('dragover');
                    var files = e.dataTransfer.files;
                    if (files.length > 0) {
                        handleFileUpload(files[0]);
                    }
                });
                
                fileInput.addEventListener('change', function(e) {
                    if (e.target.files.length > 0) {
                        handleFileUpload(e.target.files[0]);
                    }
                });
            }
            
            updateCharCount();
        });

        function handleFileUpload(file) {
            var messages = document.getElementById('uploadMessages');
            
            if (file.size > 10 * 1024 * 1024) {
                messages.innerHTML = '<p style="color: red;">File too large. Maximum size is 10MB.</p>';
                return;
            }
            
            var allowedTypes = ['text/plain', 'application/pdf', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];
            if (!allowedTypes.includes(file.type)) {
                messages.innerHTML = '<p style="color: red;">Unsupported file type. Please use TXT, PDF, or DOCX files.</p>';
                return;
            }
            
            messages.innerHTML = '<p style="color: green;">‚úì File uploaded successfully: ' + file.name + '</p>';
            
            var reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('content-text').value = e.target.result;
                switchInputType('text');
                updateCharCount();
            };
            reader.readAsText(file);
        }
    </script>
</body>
</html>
